{"version":3,"file":"main.js","mappings":"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,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC1C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,aAAa,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,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","sources":["webpack://flappybird/./src/assets/atlas.png","webpack://flappybird/./src/assets/audio/die.ogg","webpack://flappybird/./src/assets/audio/hit.ogg","webpack://flappybird/./src/assets/audio/point.ogg","webpack://flappybird/./src/assets/audio/swooshing.ogg","webpack://flappybird/./src/assets/audio/wing.ogg","webpack://flappybird/./src/assets/icon.png","webpack://flappybird/./src/styles/main.scss?5104","webpack://flappybird/./src/abstracts/button-event-handler.ts","webpack://flappybird/./src/abstracts/parent-class.ts","webpack://flappybird/./src/asset-preparation.ts","webpack://flappybird/./src/constants.ts","webpack://flappybird/./src/events.ts","webpack://flappybird/./src/game.ts","webpack://flappybird/./src/index.ts","webpack://flappybird/./src/lib/animation/abstracts/default-properties.ts","webpack://flappybird/./src/lib/animation/abstracts/fading.ts","webpack://flappybird/./src/lib/animation/abstracts/flying.ts","webpack://flappybird/./src/lib/animation/anims/bounce-in.ts","webpack://flappybird/./src/lib/animation/anims/fade-out-in.ts","webpack://flappybird/./src/lib/animation/anims/fade-out.ts","webpack://flappybird/./src/lib/animation/anims/flying.ts","webpack://flappybird/./src/lib/animation/anims/timing-event.ts","webpack://flappybird/./src/lib/animation/easing.ts","webpack://flappybird/./src/lib/animation/index.ts","webpack://flappybird/./src/lib/asset-loader/abstraction.ts","webpack://flappybird/./src/lib/asset-loader/index.ts","webpack://flappybird/./src/lib/asset-loader/loaders/audio.ts","webpack://flappybird/./src/lib/asset-loader/loaders/image.ts","webpack://flappybird/./src/lib/screen-changer/index.ts","webpack://flappybird/./src/lib/sprite-destructor/index.ts","webpack://flappybird/./src/lib/stats/index.ts","webpack://flappybird/./src/lib/storage/index.ts","webpack://flappybird/./src/lib/web-sfx/index.ts","webpack://flappybird/./src/lib/workbox-work-offline/index.ts","webpack://flappybird/./src/model/background.ts","webpack://flappybird/./src/model/banner-instruction.ts","webpack://flappybird/./src/model/bird.ts","webpack://flappybird/./src/model/btn-play.ts","webpack://flappybird/./src/model/btn-ranking.ts","webpack://flappybird/./src/model/btn-rate.ts","webpack://flappybird/./src/model/btn-toggle-speaker.ts","webpack://flappybird/./src/model/count.ts","webpack://flappybird/./src/model/flash-screen.ts","webpack://flappybird/./src/model/pipe-generator.ts","webpack://flappybird/./src/model/pipe.ts","webpack://flappybird/./src/model/platform.ts","webpack://flappybird/./src/model/scene-generator.ts","webpack://flappybird/./src/model/score-board.ts","webpack://flappybird/./src/model/sfx.ts","webpack://flappybird/./src/model/spark.ts","webpack://flappybird/./src/screens/gameplay.ts","webpack://flappybird/./src/screens/intro.ts","webpack://flappybird/./src/utils/clamp.ts","webpack://flappybird/./src/utils/flip-range.ts","webpack://flappybird/./src/utils/framer.ts","webpack://flappybird/./src/utils/index.ts","webpack://flappybird/./src/utils/linear-interpolation.ts","webpack://flappybird/./src/utils/open-in-new-tab.ts","webpack://flappybird/./src/utils/random-clamp.ts","webpack://flappybird/./src/utils/rescale-dim.ts","webpack://flappybird/./src/utils/waves.ts","webpack://flappybird/webpack/bootstrap","webpack://flappybird/webpack/runtime/chunk loaded","webpack://flappybird/webpack/runtime/define property getters","webpack://flappybird/webpack/runtime/global","webpack://flappybird/webpack/runtime/hasOwnProperty shorthand","webpack://flappybird/webpack/runtime/make namespace object","webpack://flappybird/webpack/runtime/publicPath","webpack://flappybird/webpack/runtime/jsonp chunk loading","webpack://flappybird/webpack/before-startup","webpack://flappybird/webpack/startup","webpack://flappybird/webpack/after-startup"],"sourcesContent":["export default __webpack_public_path__ + \"3fa15f611241a3fbba7573a9b26102c2.png\";","export default __webpack_public_path__ + \"fb85655698a54f8cde03153d61436a8e.ogg\";","export default __webpack_public_path__ + \"53be63225a77062f0e0567615aaef471.ogg\";","export default __webpack_public_path__ + \"25b7658563967e60ca23fb51af9c084f.ogg\";","export default __webpack_public_path__ + \"09f7e99dce7a2d12b43909f45bcff6f2.ogg\";","export default __webpack_public_path__ + \"06f58df2486e5ade890cf491a58b4e35.ogg\";","export default __webpack_public_path__ + \"1f82ae5350be3039bfb3fe84ce4c4f89.png\";","// extracted by mini-css-extract-plugin\nexport {};","/**\r\n * Lets visualize the event\r\n *\r\n * On Mouse Down, this object will check if the mouse position\r\n * is in side of button coordinate and within dimensions.\r\n * If do, perform hover like event. On mouse up, this function will check\r\n * if the mouse release has been perform inside of the button then\r\n * thats click, other no button click has been performed.\r\n *\r\n * On mouse down and the position of the mouse is outside of the button\r\n * then slide inside of the button before releasing, thats is not\r\n * a button click.\r\n *\r\n * We can only check the mouse down and up.\r\n * We don't have drag and drop here so its fun\r\n * */\r\n\r\nimport { rescaleDim } from '../utils';\r\n\r\nexport type IMouseState = 'down' | 'up';\r\n\r\nexport default abstract class ButtonEventHandler {\r\n  public active: boolean;\r\n\r\n  protected coordinate: ICoordinate;\r\n  protected img: HTMLImageElement | undefined;\r\n  protected initialWidth: number; // lerp - %\r\n  protected dimension: IDimension;\r\n  protected calcCoord: ICoordinate;\r\n  protected canvasSize: IDimension;\r\n\r\n  // Track where the mouse down triggered\r\n  private touchStart: ICoordinate;\r\n  private hoverState: boolean;\r\n  private additionalTranslate: ICoordinate;\r\n\r\n  constructor() {\r\n    this.coordinate = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.calcCoord = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.dimension = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.canvasSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.additionalTranslate = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.touchStart = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.active = false;\r\n    this.img = void 0;\r\n    this.hoverState = false;\r\n    this.initialWidth = 0;\r\n  }\r\n\r\n  public get isHovered(): boolean {\r\n    return this.hoverState;\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    if (this.img !== void 0) {\r\n      this.dimension = rescaleDim(\r\n        {\r\n          width: this.img.width,\r\n          height: this.img.height\r\n        },\r\n        { width: width * this.initialWidth }\r\n      );\r\n    }\r\n\r\n    this.canvasSize = { width, height };\r\n  }\r\n\r\n  public Update(): void {\r\n    this.calcCoord.x =\r\n      this.canvasSize.width * this.coordinate.x + this.additionalTranslate.x;\r\n    this.calcCoord.y =\r\n      this.canvasSize.height * this.coordinate.y + this.additionalTranslate.y;\r\n  }\r\n\r\n  public mouseEvent(state: IMouseState, { x, y }: ICoordinate): void {\r\n    if (state === 'down') {\r\n      this.onMouseDown({ x, y });\r\n    } else if (state === 'up') {\r\n      this.onMouseup({ x, y });\r\n    }\r\n  }\r\n\r\n  protected reset(): void {\r\n    this.move({ x: 0, y: 0 });\r\n  }\r\n\r\n  protected move({ x, y }: ICoordinate): void {\r\n    this.additionalTranslate.x = this.canvasSize.width * x;\r\n    this.additionalTranslate.y = this.canvasSize.height * y;\r\n  }\r\n\r\n  private isInRange({ x, y }: ICoordinate): boolean {\r\n    const xLoc = this.calcCoord.x;\r\n    const yLoc = this.calcCoord.y;\r\n    const xRad = this.dimension.width / 2;\r\n    const yRad = this.dimension.height / 2;\r\n\r\n    // Out of button area from x-axis\r\n    if (!(xLoc - xRad < x && xLoc + xRad > x)) return false;\r\n\r\n    // Out of button area from y-axis\r\n    if (!(yLoc - yRad < y && yLoc + yRad > y)) return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  private onMouseDown(coord: ICoordinate): void {\r\n    if (!this.active) return;\r\n\r\n    this.touchStart = coord;\r\n\r\n    if (this.isInRange(coord)) {\r\n      this.hoverState = true;\r\n    }\r\n  }\r\n\r\n  private onMouseup(coord: ICoordinate): void {\r\n    if (!this.active) return;\r\n    this.hoverState = false;\r\n    // Only click if mouse down start inside of the button\r\n    // and up inside of the button\r\n    if (this.isInRange(coord) && this.isInRange(this.touchStart)) {\r\n      this.click();\r\n    }\r\n  }\r\n\r\n  public abstract init(): void;\r\n\r\n  /**\r\n   * Will be trigger if the mouse down starts inside of the button\r\n   * and ended inside of the button. But I think when it comes to\r\n   * touch event, sliding the finger out of button\r\n   * */\r\n  public abstract click(): void;\r\n  public abstract Display(context: CanvasRenderingContext2D): void;\r\n}\r\n","export default abstract class ParentObject {\r\n  protected canvasSize: IDimension;\r\n  public velocity: IVelocity;\r\n  public coordinate: ICoordinate;\r\n\r\n  constructor() {\r\n    this.canvasSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n\r\n    this.coordinate = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    this.canvasSize = { width, height };\r\n  }\r\n\r\n  public abstract init(): void;\r\n  public abstract Update(): void;\r\n  public abstract Display(context: CanvasRenderingContext2D): void;\r\n}\r\n","import AssetLoader from './lib/asset-loader';\r\n\r\nimport SpriteDestructor from './lib/sprite-destructor';\r\nimport WebSfx from './lib/web-sfx';\r\nimport atlas from './assets/atlas.png';\r\nimport sfDie from './assets/audio/die.ogg';\r\nimport sfHit from './assets/audio/hit.ogg';\r\nimport sfPoint from './assets/audio/point.ogg';\r\nimport sfSwoosh from './assets/audio/swooshing.ogg';\r\nimport sfWing from './assets/audio/wing.ogg';\r\n\r\nexport default (callback: IEmptyFunction): void => {\r\n  let isLoaded = false;\r\n\r\n  // Do not load images and sfx at the same time\r\n  new AssetLoader([atlas]).then(() => {\r\n    const sd = new SpriteDestructor(AssetLoader.get<HTMLImageElement>(atlas));\r\n\r\n    sd.cutOut('theme-day', 0, 0, 288, 512);\r\n    sd.cutOut('theme-night', 292, 0, 288, 512);\r\n    sd.cutOut('platform', 584, 0, 236, 112);\r\n    sd.cutOut('pipe-red-top', 0, 646, 52, 320);\r\n    sd.cutOut('pipe-red-bottom', 56, 646, 52, 320);\r\n    sd.cutOut('pipe-green-bottom', 168, 646, 52, 320);\r\n    sd.cutOut('pipe-green-top', 112, 646, 52, 320);\r\n    sd.cutOut('score-board', 4, 516, 232, 123);\r\n    sd.cutOut('coin-dull-metal', 224, 906, 44, 44);\r\n    sd.cutOut('coin-dull-bronze', 224, 954, 44, 44);\r\n    sd.cutOut('coin-shine-silver', 242, 516, 44, 44);\r\n    sd.cutOut('coin-shine-gold', 242, 564, 44, 44);\r\n    sd.cutOut('number-sm-0', 276, 646, 12, 14);\r\n    sd.cutOut('number-sm-1', 282, 664, 6, 14);\r\n    sd.cutOut('number-sm-2', 276, 698, 12, 14);\r\n    sd.cutOut('number-sm-3', 276, 716, 12, 14);\r\n    sd.cutOut('number-sm-4', 276, 750, 12, 14);\r\n    sd.cutOut('number-sm-5', 276, 768, 12, 14);\r\n    sd.cutOut('number-sm-6', 276, 802, 12, 14);\r\n    sd.cutOut('number-sm-7', 276, 820, 12, 14);\r\n    sd.cutOut('number.sm-8', 276, 854, 12, 14);\r\n    sd.cutOut('number-sm-9', 276, 872, 12, 14);\r\n    sd.cutOut('number-md-0', 274, 612, 14, 20);\r\n    sd.cutOut('number-md-1', 278, 954, 10, 20);\r\n    sd.cutOut('number-md-2', 274, 978, 14, 20);\r\n    sd.cutOut('number-md-3', 262, 1002, 14, 20);\r\n    sd.cutOut('number-md-4', 1004, 0, 14, 20);\r\n    sd.cutOut('number-md-5', 1004, 24, 14, 20);\r\n    sd.cutOut('number-md-6', 1010, 52, 14, 20);\r\n    sd.cutOut('number-md-7', 1010, 84, 14, 20);\r\n    sd.cutOut('number-md-8', 586, 484, 14, 20);\r\n    sd.cutOut('number-md-9', 622, 412, 14, 20);\r\n    sd.cutOut('number-lg-0', 992, 120, 24, 36);\r\n    sd.cutOut('number-lg-1', 272, 910, 16, 36);\r\n    sd.cutOut('number-lg-2', 584, 320, 24, 36);\r\n    sd.cutOut('number-lg-3', 612, 320, 24, 36);\r\n    sd.cutOut('number-lg-4', 640, 320, 24, 36);\r\n    sd.cutOut('number-lg-5', 668, 320, 24, 36);\r\n    sd.cutOut('number-lg-6', 584, 368, 24, 36);\r\n    sd.cutOut('number-lg-7', 612, 368, 24, 36);\r\n    sd.cutOut('number-lg-8', 640, 368, 24, 36);\r\n    sd.cutOut('number-lg-9', 668, 368, 24, 36);\r\n    sd.cutOut('toast-new', 224, 1002, 32, 14);\r\n    sd.cutOut('btn-pause', 242, 612, 26, 28);\r\n    sd.cutOut('btn-share', 584, 284, 80, 28);\r\n    sd.cutOut('btn-play-icon', 668, 284, 26, 28);\r\n    sd.cutOut('btn-play', 706, 236, 110, 64);\r\n    sd.cutOut('btn-ranking', 826, 236, 110, 64);\r\n    sd.cutOut('btn-menu', 924, 52, 80, 28);\r\n    sd.cutOut('btn-ok', 924, 84, 80, 28);\r\n    sd.cutOut('btn-rate', 926, 2, 70, 44);\r\n    sd.cutOut('bird-yellow-up', 6, 982, 34, 24);\r\n    sd.cutOut('bird-yellow-mid', 62, 982, 34, 24);\r\n    sd.cutOut('bird-yellow-down', 118, 982, 34, 24);\r\n    sd.cutOut('bird-blue-up', 174, 982, 34, 24);\r\n    sd.cutOut('bird-blue-mid', 230, 658, 34, 24);\r\n    sd.cutOut('bird-blue-down', 230, 710, 34, 24);\r\n    sd.cutOut('bird-red-up', 230, 762, 34, 24);\r\n    sd.cutOut('bird-red-mid', 230, 814, 34, 24);\r\n    sd.cutOut('bird-red-down', 230, 866, 34, 24);\r\n    sd.cutOut('spark-sm', 276, 682, 10, 10);\r\n    sd.cutOut('spark-md', 276, 734, 10, 10);\r\n    sd.cutOut('spark-lg', 276, 786, 10, 10);\r\n    sd.cutOut('banner-game-ready', 586, 118, 192, 58);\r\n    sd.cutOut('banner-game-over', 786, 118, 200, 52);\r\n    sd.cutOut('banner-flappybird', 702, 182, 178, 52);\r\n    sd.cutOut('banner-instruction', 584, 182, 114, 98);\r\n    sd.cutOut('copyright', 886, 184, 122, 10);\r\n    sd.cutOut('icon-plus', 992, 168, 10, 10);\r\n    sd.cutOut('btn-mute', 816, 306, 90, 66);\r\n    sd.cutOut('btn-speaker', 712, 306, 90, 66);\r\n\r\n    const loadCallback = () => {\r\n      if (isLoaded) callback();\r\n      isLoaded = true;\r\n    };\r\n\r\n    // Make sure this one is at the very bottom of SpriteDestructor.cutOut\r\n    void sd.then(loadCallback);\r\n\r\n    new WebSfx(\r\n      {\r\n        hit: sfHit,\r\n        wing: sfWing,\r\n        swoosh: sfSwoosh,\r\n        die: sfDie,\r\n        point: sfPoint\r\n      },\r\n      loadCallback\r\n    );\r\n  });\r\n};\r\n","/**\r\n * Environment Contants\r\n */\r\n\r\n/**\r\n * Note: Everything related to positioning & velocities\r\n * uses percentages ranging 0.0 - 1.0\r\n * */\r\n\r\n// Pipe and Platform Speed should be the same\r\nexport const GAME_SPEED = 0.0062;\r\n\r\n// Background Speed\r\nexport const BG_SPEED = 0.0002;\r\n\r\n// Initial Canvas Size. Changing this may cause problem in some cases.\r\nexport const CANVAS_DIMENSION = {\r\n  width: 288,\r\n  height: 512\r\n};\r\n\r\n// Sound effect volume. (0 - 1)\r\n// Will be fed to GainNode in Audio Context\r\nexport const SFX_VOLUME = 1;\r\n\r\nexport const APP_VERSION = process.env.APP_VERSION!;\r\n\r\n/**\r\n * Bird\r\n */\r\n\r\n// Jump Height. Based on canvas height.\r\nexport const BIRD_JUMP_HEIGHT = -0.009;\r\n\r\n// Fixed X-Axis position of bird. Based on canvas width.\r\nexport const BIRD_X_POSITION = 0.3;\r\n\r\n// Max angle of bird in degree\r\nexport const BIRD_MAX_ROTATION = 90;\r\n\r\n// Minimum angle of bird in degree\r\nexport const BIRD_MIN_ROTATION = -19;\r\n\r\n// Height of bird. Based on canvas Height\r\nexport const BIRD_HEIGHT = 0.024;\r\n\r\n// Weight of bird. Drag every update. Based on canvas height\r\nexport const BIRD_WEIGHT = 0.00047;\r\n\r\n// Maximum lift velocity. Preventing our bird to overspeed. Based on canvas height\r\nexport const BIRD_MAX_UP_VELOCITY = -0.3;\r\n\r\n// Maximum drag velocity. Preventing our bird to overspeed. Based on canvas height\r\nexport const BIRD_MAX_DOWN_VELOCITY = 0.0141;\r\n\r\n// Initial Dimension of a bird\r\n/**\r\n * We are keeping the ratio of the bird to prevent ugly looking squish or squash image of bird\r\n */\r\nexport const BIRD_INITIAL_DIMENSION: IDimension = {\r\n  width: 34,\r\n  height: 24\r\n};\r\n\r\n/**\r\n * Pipe\r\n */\r\n\r\n// Distance of pipe between max width of canvas and the last pipe. (0 - 1)\r\nexport const PIPE_DISTANCE = 0.392;\r\n\r\n// Holl size of pipe. Based on canvas height. (0 - 1)\r\nexport const PIPE_HOLL_SIZE = 0.184;\r\n\r\n// Minimum gap of pipe holl to very top and platform. Based on height. (0 - 1)\r\nexport const PIPE_MIN_GAP = 0.194;\r\n\r\n// Initial Pipe Dimension\r\nexport const PIPE_INITIAL_DIMENSION: IDimension = {\r\n  width: 100,\r\n  height: 300\r\n};\r\n\r\n/**\r\n * Background\r\n * */\r\n\r\n/**\r\n * Count\r\n * */\r\n// Initial Dimension\r\nexport const COUNT_DIMENSION: IDimension = {\r\n  width: 24,\r\n  height: 36\r\n};\r\n\r\n// Number position\r\nexport const COUNT_COORDINATE: ICoordinate = {\r\n  x: 0.5,\r\n  y: 0.18\r\n};\r\n","/**\r\n * Interactive\r\n */\r\n\r\nimport Game from './game';\r\nimport WebSfx from './lib/web-sfx';\r\n\r\nexport type IEventParam = MouseEvent | TouchEvent | KeyboardEvent;\r\n\r\nexport default (Game: Game, canvas: HTMLCanvasElement) => {\r\n  interface IMouse {\r\n    down: boolean;\r\n    position: ICoordinate;\r\n  }\r\n\r\n  let clicked = false;\r\n\r\n  // Trigger the event once\r\n  let hasMouseDown = false;\r\n  let hasMouseUp = true;\r\n\r\n  const mouse: IMouse = {\r\n    down: false,\r\n    position: {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n  };\r\n\r\n  const getBoundedPosition = ({ x, y }: ICoordinate): ICoordinate => {\r\n    const { left, top, width, height } = canvas.getBoundingClientRect();\r\n    const dx: number = ((x - left) / width) * canvas.width;\r\n    const dy: number = ((y - top) / height) * canvas.height;\r\n\r\n    return { x: dx, y: dy };\r\n  };\r\n\r\n  const likeClickedEvent = () => {\r\n    if (clicked) return;\r\n\r\n    Game.onClick(mouse.position);\r\n    clicked = true;\r\n  };\r\n\r\n  const mouseMove = ({ x, y }: ICoordinate, evt: IEventParam): void => {\r\n    evt.preventDefault();\r\n    mouse.position = getBoundedPosition({ x, y });\r\n  };\r\n\r\n  const mouseUP = (\r\n    { x, y }: ICoordinate,\r\n    evt: IEventParam,\r\n    isRetreive: boolean\r\n  ): void => {\r\n    if (hasMouseUp) return;\r\n    hasMouseUp = true;\r\n    hasMouseDown = false;\r\n\r\n    /**\r\n     * Required due to autoplay restriction\r\n     * */\r\n    void WebSfx.init();\r\n\r\n    evt.preventDefault();\r\n    if (!isRetreive) mouse.position = getBoundedPosition({ x, y });\r\n\r\n    Game.mouseUp(mouse.position);\r\n    mouse.down = false;\r\n    clicked = false;\r\n  };\r\n\r\n  const mouseDown = ({ x, y }: ICoordinate, evt: IEventParam): void => {\r\n    if (hasMouseDown) return;\r\n    hasMouseUp = false;\r\n    hasMouseDown = true;\r\n\r\n    /**\r\n     * Trigger multiple times\r\n     * Required due to autoplay restriction\r\n     * */\r\n    void WebSfx.init();\r\n\r\n    evt.preventDefault();\r\n    mouse.position = getBoundedPosition({ x, y });\r\n    Game.mouseDown(mouse.position);\r\n    mouse.down = true;\r\n\r\n    likeClickedEvent();\r\n  };\r\n\r\n  // Mouse Event\r\n  canvas.addEventListener('mousedown', (evt: MouseEvent) => {\r\n    mouseDown({ x: evt.clientX, y: evt.clientY }, evt);\r\n  });\r\n\r\n  canvas.addEventListener('mouseup', (evt: MouseEvent) => {\r\n    mouseUP({ x: evt.clientX, y: evt.clientY }, evt, false);\r\n  });\r\n\r\n  canvas.addEventListener('mousemove', (evt: MouseEvent) => {\r\n    mouseMove({ x: evt.clientX, y: evt.clientY }, evt);\r\n  });\r\n\r\n  // Touch Event\r\n  canvas.addEventListener('touchstart', (evt: TouchEvent) => {\r\n    mouseDown({ x: evt.touches[0].clientX, y: evt.touches[0].clientY }, evt);\r\n  });\r\n\r\n  canvas.addEventListener('touchend', (evt: TouchEvent) => {\r\n    if (evt.touches.length < 1) {\r\n      mouseUP(mouse.position, evt, true);\r\n      return;\r\n    }\r\n\r\n    mouseUP({ x: evt.touches[0].clientX, y: evt.touches[0].clientY }, evt, false);\r\n  });\r\n\r\n  canvas.addEventListener('touchmove', (evt: TouchEvent) => {\r\n    mouseMove({ x: evt.touches[0].clientX, y: evt.touches[0].clientY }, evt);\r\n  });\r\n\r\n  // Keyboard event\r\n  document.addEventListener('keydown', (evt: KeyboardEvent) => {\r\n    const { key, keyCode, code } = evt;\r\n\r\n    if (\r\n      key === ' ' ||\r\n      keyCode === 32 ||\r\n      code === 'Space' ||\r\n      key === 'Enter' ||\r\n      keyCode === 13 ||\r\n      code === 'NumpadEnter' ||\r\n      code === 'Enter'\r\n    ) {\r\n      Game.startAtKeyBoardEvent();\r\n\r\n      mouseDown(\r\n        {\r\n          x: canvas.width / 2,\r\n          y: canvas.height / 2\r\n        },\r\n        evt\r\n      );\r\n    }\r\n  });\r\n\r\n  document.addEventListener('keyup', (evt: KeyboardEvent) => {\r\n    const { key, keyCode, code } = evt;\r\n    if (\r\n      key === ' ' ||\r\n      keyCode === 32 ||\r\n      code === 'Space' ||\r\n      key === 'Enter' ||\r\n      keyCode === 13 ||\r\n      code === 'NumpadEnter' ||\r\n      code === 'Enter'\r\n    ) {\r\n      mouseUP(\r\n        {\r\n          x: canvas.width / 2,\r\n          y: canvas.height / 2\r\n        },\r\n        evt,\r\n        false\r\n      );\r\n    }\r\n  });\r\n};\r\n","import BgModel from './model/background';\r\nimport BirdModel from './model/bird';\r\nimport GamePlay from './screens/gameplay';\r\nimport Intro from './screens/intro';\r\nimport ParentClass from './abstracts/parent-class';\r\nimport PipeGenerator from './model/pipe-generator';\r\nimport PlatformModel from './model/platform';\r\nimport { SFX_VOLUME } from './constants';\r\nimport ScreenChanger from './lib/screen-changer';\r\nimport Sfx from './model/sfx';\r\nimport Storage from './lib/storage';\r\nimport FlashScreen from './model/flash-screen';\r\n\r\nexport type IGameState = 'intro' | 'game';\r\n\r\nexport default class Game extends ParentClass {\r\n  public background: BgModel;\r\n  public platform: PlatformModel;\r\n  public canvas: HTMLCanvasElement;\r\n  public context: CanvasRenderingContext2D;\r\n  public pipeGenerator: PipeGenerator;\r\n  public bgPause: boolean;\r\n  private screenChanger: ScreenChanger;\r\n  private transition: FlashScreen;\r\n  private screenIntro: Intro;\r\n  private gamePlay: GamePlay;\r\n  private state: IGameState;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    super();\r\n    this.screenChanger = new ScreenChanger();\r\n    this.background = new BgModel();\r\n    this.canvas = canvas;\r\n    this.context = this.canvas.getContext('2d', {\r\n      desynchronized: true,\r\n      alpha: false\r\n    })!;\r\n    this.platform = new PlatformModel();\r\n    this.pipeGenerator = new PipeGenerator();\r\n    this.screenIntro = new Intro();\r\n    this.gamePlay = new GamePlay(this);\r\n    this.state = 'intro';\r\n    this.bgPause = false;\r\n    this.transition = new FlashScreen({\r\n      interval: 700,\r\n      strong: 1,\r\n      style: 'black',\r\n      easing: 'sineWaveHS'\r\n    });\r\n\r\n    this.transition.setEvent([0.98, 1], () => {\r\n      this.state = 'game';\r\n    });\r\n  }\r\n\r\n  public init(): void {\r\n    new Storage(); // Init first\r\n    this.background.init();\r\n    this.platform.init();\r\n    this.transition.init();\r\n\r\n    void Sfx.init();\r\n    Sfx.volume(SFX_VOLUME);\r\n\r\n    this.screenIntro.init();\r\n    this.gamePlay.init();\r\n    this.setEvent();\r\n\r\n    this.screenIntro.playButton.active = true;\r\n    this.screenIntro.rankingButton.active = true;\r\n    this.screenIntro.rateButton.active = true;\r\n\r\n    // Register screens\r\n    this.screenChanger.register('intro', this.screenIntro);\r\n    this.screenChanger.register('game', this.gamePlay);\r\n  }\r\n\r\n  public reset(): void {\r\n    this.background.reset();\r\n    this.platform.reset();\r\n    this.Resize(this.canvasSize);\r\n  }\r\n\r\n  public Resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n    this.background.resize(this.canvasSize);\r\n    this.platform.resize(this.canvasSize);\r\n    this.transition.resize(this.canvasSize);\r\n    BirdModel.platformHeight = this.platform.platformSize.height;\r\n\r\n    this.pipeGenerator.resize({\r\n      max: height - this.platform.platformSize.height,\r\n      width: width,\r\n      height: height\r\n    });\r\n\r\n    this.screenIntro.resize(this.canvasSize);\r\n    this.gamePlay.resize(this.canvasSize);\r\n    this.canvas.width = width;\r\n    this.canvas.height = height;\r\n  }\r\n\r\n  public Update(): void {\r\n    this.transition.Update();\r\n    this.screenChanger.setState(this.state);\r\n\r\n    if (!this.bgPause) {\r\n      this.background.Update();\r\n      this.platform.Update();\r\n    }\r\n\r\n    this.screenChanger.Update();\r\n  }\r\n\r\n  public Display(): void {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    // Remove smoothing effect of an image\r\n    this.context.imageSmoothingEnabled = false;\r\n    this.context.imageSmoothingQuality = 'high';\r\n\r\n    this.screenChanger.setState(this.state);\r\n    this.background.Display(this.context);\r\n\r\n    for (const pipe of this.pipeGenerator.pipes) {\r\n      pipe.Display(this.context);\r\n    }\r\n\r\n    this.platform.Display(this.context);\r\n    this.screenChanger.Display(this.context);\r\n    this.transition.Display(this.context);\r\n  }\r\n\r\n  public setEvent(): void {\r\n    this.screenIntro.playButton.onClick(() => {\r\n      if (this.state !== 'intro') return;\r\n\r\n      // Deactivate buttons\r\n      this.screenIntro.playButton.active = false;\r\n      this.screenIntro.rankingButton.active = false;\r\n      this.screenIntro.rateButton.active = false;\r\n      this.screenIntro.toggleSpeakerButton.active = false;\r\n\r\n      this.transition.reset();\r\n      this.transition.start();\r\n    });\r\n  }\r\n\r\n  public onClick({ x, y }: ICoordinate): void {\r\n    if (this.state === 'game') {\r\n      this.gamePlay.click({ x, y });\r\n    }\r\n  }\r\n\r\n  public mouseDown({ x, y }: ICoordinate): void {\r\n    this.screenIntro.mouseDown({ x, y });\r\n    this.gamePlay.mouseDown({ x, y });\r\n  }\r\n\r\n  public mouseUp({ x, y }: ICoordinate): void {\r\n    this.screenIntro.mouseUp({ x, y });\r\n    this.gamePlay.mouseUp({ x, y });\r\n  }\r\n\r\n  public startAtKeyBoardEvent(): void {\r\n    if (this.state === 'intro') this.screenIntro.startAtKeyBoardEvent();\r\n    else this.gamePlay.startAtKeyBoardEvent();\r\n  }\r\n\r\n  public get currentState(): IGameState {\r\n    return this.state;\r\n  }\r\n}\r\n","import './styles/main.scss';\r\nimport gameSpriteIcon from './assets/icon.png';\r\nimport '@total-typescript/ts-reset';\r\n\r\nimport { framer as Framer, rescaleDim } from './utils';\r\nimport { CANVAS_DIMENSION } from './constants';\r\nimport EventHandler from './events';\r\nimport GameObject from './game';\r\nimport prepareAssets from './asset-preparation';\r\nimport createRAF, { targetFPS } from '@solid-primitives/raf';\r\nimport SwOffline from './lib/workbox-work-offline';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  SwOffline();\r\n}\r\n\r\n/**\r\n * Enabling desynchronized to reduce latency\r\n * but the frame tearing may experience so\r\n * we'll need double buffer to atleast reduce\r\n * the frame tearing\r\n * */\r\nconst virtualCanvas = document.createElement('canvas');\r\nconst gameIcon = document.createElement('img');\r\nconst canvas = document.querySelector<HTMLCanvasElement>('#main-canvas')!;\r\nconst physicalContext = canvas.getContext('2d')!;\r\nconst loadingScreen = document.querySelector<HTMLDivElement>('#loading-modal')!;\r\nconst Game = new GameObject(virtualCanvas);\r\nconst fps = new Framer(Game.context);\r\n\r\nlet isLoaded = false;\r\n\r\ngameIcon.src = gameSpriteIcon;\r\n\r\n// prettier-ignore\r\nfps.text({ x: 50, y: 50 }, '', ' Cycle');\r\n// prettier-ignore\r\nfps.container({ x: 10, y: 10}, { x: 230, y: 70});\r\n\r\nconst GameUpdate = (): void => {\r\n  physicalContext.drawImage(virtualCanvas, 0, 0);\r\n\r\n  Game.Update();\r\n  Game.Display();\r\n\r\n  if (process.env.NODE_ENV === 'development') fps.mark();\r\n\r\n  // raf(GameUpdate); Issue #16\r\n};\r\n\r\nconst ScreenResize = () => {\r\n  const sizeResult = rescaleDim(CANVAS_DIMENSION, {\r\n    height: window.innerHeight * 2 - 50\r\n  });\r\n\r\n  canvas.style.maxWidth = String(sizeResult.width / 2) + 'px';\r\n  canvas.style.maxHeight = String(sizeResult.height / 2) + 'px';\r\n\r\n  canvas.height = sizeResult.height;\r\n  canvas.width = sizeResult.width;\r\n  virtualCanvas.height = sizeResult.height;\r\n  virtualCanvas.width = sizeResult.width;\r\n\r\n  console.log(`Canvas Size: ${sizeResult.width}x${sizeResult.height}`);\r\n\r\n  Game.Resize(sizeResult);\r\n};\r\n\r\nconst removeLoadingScreen = () => {\r\n  EventHandler(Game, canvas);\r\n  loadingScreen.style.display = 'none';\r\n  document.body.style.backgroundColor = 'rgba(28, 28, 30, 1)';\r\n};\r\n\r\n//\r\n// Quick Fix. Locking to 60fps\r\n// Quick fix.Long term :)\r\nconst [game_running, game_start] = createRAF(targetFPS(GameUpdate, 60));\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n  loadingScreen.insertBefore(gameIcon, loadingScreen.childNodes[0]);\r\n\r\n  prepareAssets(() => {\r\n    isLoaded = true;\r\n\r\n    Game.init();\r\n\r\n    ScreenResize();\r\n\r\n    // raf(GameUpdate); Issue #16\r\n    if (!game_running()) game_start(); // Quick fix. Long term :)\r\n\r\n    if (process.env.NODE_ENV === 'development') removeLoadingScreen();\r\n    else window.setTimeout(removeLoadingScreen, 1000);\r\n  });\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n  if (!isLoaded) return;\r\n\r\n  ScreenResize();\r\n});\r\n","export default abstract class DefaultProperties {\r\n  protected isRunning: boolean;\r\n  protected isComplete: boolean;\r\n  protected startTime: number;\r\n\r\n  constructor() {\r\n    this.isComplete = false;\r\n    this.isRunning = false;\r\n    this.startTime = 0;\r\n  }\r\n\r\n  protected get time(): number {\r\n    return performance.now();\r\n  }\r\n\r\n  protected get timeDiff(): number {\r\n    if (!this.isRunning) return 0;\r\n    return this.time - this.startTime;\r\n  }\r\n\r\n  public stop(): void {\r\n    this.isComplete = true;\r\n    this.isRunning = false;\r\n  }\r\n\r\n  public start(): void {\r\n    if (this.isRunning) return;\r\n\r\n    this.isRunning = true;\r\n    this.isComplete = false;\r\n    this.startTime = this.time;\r\n  }\r\n\r\n  public reset(): void {\r\n    this.isComplete = false;\r\n    this.isRunning = false;\r\n  }\r\n}\r\n","import DefaultProps from './default-properties';\r\nimport { IEasingKey } from '../easing';\r\nimport * as easing from '../easing';\r\n\r\nexport interface IFadingOptions {\r\n  duration: number;\r\n  transition: IEasingKey;\r\n}\r\n\r\nexport interface IConstructorFadingOptions extends Partial<IFadingOptions> {}\r\n\r\nexport interface IFadingStatus {\r\n  running: boolean;\r\n  complete: boolean;\r\n}\r\n\r\nexport default abstract class Fading extends DefaultProps {\r\n  protected options: IFadingOptions;\r\n\r\n  constructor(options?: IConstructorFadingOptions) {\r\n    super();\r\n    this.options = {\r\n      duration: 500, // ms\r\n      transition: 'swing'\r\n    };\r\n\r\n    Object.assign(this.options, options ?? {});\r\n  }\r\n\r\n  public get status(): IFadingStatus {\r\n    return {\r\n      running: this.isRunning,\r\n      complete: this.isComplete\r\n    };\r\n  }\r\n\r\n  protected inUseTransition(num: number): number {\r\n    return easing[this.options.transition](num);\r\n  }\r\n\r\n  public abstract get value(): number;\r\n}\r\n","import IDefaultProperties from './default-properties';\r\nimport { IEasingKey } from '../easing';\r\nimport * as easing from '../easing';\r\n\r\nexport interface IFlyingOption {\r\n  duration: number;\r\n  transition: IEasingKey;\r\n  from: ICoordinate;\r\n  to: ICoordinate;\r\n}\r\n\r\nexport interface IFlyingContructorOption\r\n  extends Omit<IFlyingOption, 'transition' | 'duration'> {\r\n  duration?: number;\r\n  transition?: IEasingKey;\r\n}\r\n\r\nexport interface IFlyingStatus {\r\n  running: boolean;\r\n  complete: boolean;\r\n}\r\n\r\nexport default abstract class Flying extends IDefaultProperties {\r\n  protected options: IFlyingOption;\r\n\r\n  constructor(options: IFlyingContructorOption) {\r\n    super();\r\n    this.options = {\r\n      duration: 500,\r\n      from: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      to: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      transition: 'cubicBezier'\r\n    };\r\n\r\n    Object.assign(this.options, options);\r\n  }\r\n\r\n  public get status(): IFlyingStatus {\r\n    return {\r\n      running: this.isRunning,\r\n      complete: this.isComplete\r\n    };\r\n  }\r\n\r\n  protected inUseTransition(num: number): number {\r\n    return easing[this.options.transition](num);\r\n  }\r\n\r\n  public abstract get value(): ICoordinate;\r\n}\r\n","/**\r\n * From given coordinate, it will bounce up once while fading in\r\n * Fade-in duration will be 0.5 sec\r\n * Bounce duration will be 1 sec\r\n *\r\n * */\r\nimport DefaultProps from '../abstracts/default-properties';\r\nimport * as easing from '../easing';\r\n\r\nexport interface IBounceIn {\r\n  durations: {\r\n    fading: number;\r\n    bounce: number;\r\n  };\r\n}\r\n\r\nexport interface IBounceInConstructor extends Partial<IBounceIn> {}\r\n\r\nexport interface IBounceInStatus {\r\n  running: boolean;\r\n  complete: boolean;\r\n}\r\n\r\nexport interface IBounceInValue {\r\n  opacity: number;\r\n  value: number;\r\n}\r\n\r\nexport class BounceIn extends DefaultProps {\r\n  private options: IBounceIn;\r\n\r\n  constructor(options?: IBounceInConstructor) {\r\n    super();\r\n\r\n    this.options = {\r\n      durations: {\r\n        fading: 400,\r\n        bounce: 1000\r\n      }\r\n    };\r\n\r\n    Object.assign(this.options, options);\r\n  }\r\n\r\n  public get status(): IBounceInStatus {\r\n    return {\r\n      running: this.isRunning,\r\n      complete: this.isComplete\r\n    };\r\n  }\r\n\r\n  get value(): IBounceInValue {\r\n    if (!this.isRunning) {\r\n      return {\r\n        opacity: this.isComplete ? 1 : 0,\r\n        value: 0\r\n      };\r\n    }\r\n\r\n    const { fading, bounce } = this.options.durations;\r\n    const timeDiff = this.timeDiff;\r\n\r\n    let opacity: number = easing.swing(timeDiff / fading);\r\n    let value: number = -easing.sineWaveHS(timeDiff / bounce);\r\n\r\n    if (timeDiff >= Math.max(fading, bounce)) {\r\n      this.stop();\r\n      return {\r\n        opacity: 1,\r\n        value: 0\r\n      };\r\n    }\r\n\r\n    if (timeDiff >= fading) {\r\n      opacity = 1;\r\n    }\r\n\r\n    if (timeDiff >= bounce) {\r\n      value = 0;\r\n    }\r\n\r\n    return { opacity, value };\r\n  }\r\n}\r\n","import Fading from '../abstracts/fading';\r\n\r\nexport class FadeOutIn extends Fading {\r\n  public get value(): number {\r\n    if (this.isComplete && !this.isRunning) return 1;\r\n\r\n    const stime = this.startTime;\r\n    const value = (this.time - stime) / this.options.duration;\r\n\r\n    if (value >= 2) this.stop();\r\n\r\n    return this.inUseTransition(1 - value);\r\n  }\r\n}\r\n","import AbsFading from '../abstracts/fading';\r\nimport { flipRange } from '../../../utils';\r\n\r\nexport class FadeOut extends AbsFading {\r\n  public get value(): number {\r\n    if (this.isComplete || !this.isRunning) return 0;\r\n\r\n    const value = this.timeDiff / this.options.duration;\r\n\r\n    if (value >= 1) {\r\n      this.stop();\r\n      return 0;\r\n    }\r\n\r\n    return this.inUseTransition(flipRange(0, 1, value));\r\n  }\r\n}\r\n","import IFlying from '../abstracts/flying';\r\nimport { lerp } from '../../../utils';\r\n\r\nexport class Fly extends IFlying {\r\n  public get value(): ICoordinate {\r\n    if (!this.isRunning) {\r\n      return this.isComplete ? this.options.to : this.options.from;\r\n    }\r\n\r\n    const f = this.options.from;\r\n    const t = this.options.to;\r\n    const diff = this.timeDiff / this.options.duration;\r\n\r\n    if (diff >= 1) {\r\n      this.stop();\r\n\r\n      // Prevent bounce effect\r\n      return this.options.to;\r\n    }\r\n\r\n    return {\r\n      x: lerp(f.x, t.x, this.inUseTransition(diff)),\r\n      y: lerp(f.y, t.y, this.inUseTransition(diff))\r\n    };\r\n  }\r\n}\r\n","/**\r\n * I did include this Timing event into animation\r\n * since it will animate the numbers\r\n * */\r\n\r\nimport DefaultProps from '../abstracts/default-properties';\r\n\r\nexport interface ITimingEventOptions {\r\n  diff: number; // Interval per number\r\n}\r\n\r\nexport interface ITimingEventOptionsConstructor extends Partial<ITimingEventOptions> {}\r\n\r\nexport interface ITimingEventStatus {\r\n  running: boolean;\r\n  complete: boolean;\r\n}\r\n\r\nexport class TimingEvent extends DefaultProps {\r\n  private options: ITimingEventOptions;\r\n\r\n  constructor(options?: ITimingEventOptionsConstructor) {\r\n    super();\r\n    this.options = {\r\n      diff: 100\r\n    };\r\n\r\n    Object.assign(this.options, options);\r\n  }\r\n\r\n  public get status(): ITimingEventStatus {\r\n    return {\r\n      running: this.isRunning,\r\n      complete: this.isComplete\r\n    };\r\n  }\r\n\r\n  public get value(): boolean {\r\n    const td = this.timeDiff;\r\n    if (td >= this.options.diff) {\r\n      this.startTime = this.time;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n","export type IProgressFunction = (t: number) => number;\r\n\r\nexport interface IEasingUtils {\r\n  swing: IProgressFunction;\r\n  linear: IProgressFunction;\r\n  quadratic: IProgressFunction;\r\n  cubicBezier: IProgressFunction;\r\n  easeOut: IProgressFunction;\r\n  easeOutCirc: IProgressFunction;\r\n  easeOutExpo: IProgressFunction;\r\n  sineWaveHS: IProgressFunction;\r\n}\r\n\r\nexport type IEasingKey = keyof IEasingUtils;\r\n\r\nexport const swing: IEasingUtils['swing'] = (t) => {\r\n  /**\r\n   * f(x) = 1/2 - cos(x • PI)/2\r\n   * */\r\n  return 0.5 - Math.cos(t * Math.PI) / 2;\r\n};\r\n\r\nexport const linear: IEasingUtils['linear'] = (t) => {\r\n  /**\r\n   * f(x) = x\r\n   * */\r\n  return t;\r\n};\r\n\r\nexport const quadratic: IEasingUtils['quadratic'] = (t) => {\r\n  /**\r\n   * f(x) = x^2\r\n   * */\r\n  return Math.pow(t, 2);\r\n};\r\n\r\nexport const cubicBezier: IEasingUtils['cubicBezier'] = (t) => {\r\n  /**\r\n   * f(x) = { 2x^3, if x <= 0.5,\r\n   *        { 1 - 2x^3, x > 0.5\r\n   * */\r\n  return t <= 0.5 ? 2 * Math.pow(t, 3) : 1 - 2 * Math.pow(t, 3);\r\n};\r\n\r\nexport const easeOut: IEasingUtils['easeOut'] = (t) => {\r\n  /**\r\n   * f(x) = 1/2 - cos(x • PI) / 2\r\n   * */\r\n  return 0.5 - Math.cos(t * Math.PI) / 2;\r\n};\r\n\r\n/**\r\n * Sine Wave • Half Second\r\n * Pattern - (0,0) (0.5,1) (1,0)\r\n * */\r\nexport const sineWaveHS: IEasingUtils['sineWaveHS'] = (t) => {\r\n  /**\r\n   * f(x) = sin((2xPI) / 2)\r\n   * */\r\n  return Math.sin((t * 2 * Math.PI) / 2);\r\n};\r\n\r\n/**\r\n * Code below - Source:\r\n * https://easings.net\r\n *\r\n * Hey, I just like to include or create their Mathematical\r\n * formula just to make myself look smart. :)\r\n * */\r\n\r\nexport const easeOutCirc: IEasingUtils['easeOutCirc'] = (t) => {\r\n  /**\r\n   * f(x) = √1 - (x - 1)^2\r\n   * */\r\n  return Math.sqrt(1 - Math.pow(t - 1, 2));\r\n};\r\n\r\nexport const easeOutExpo: IEasingUtils['easeOutExpo'] = (t) => {\r\n  /**\r\n   * f(x) = { 1, if x = 1\r\n   *        { 1 - (2)^(-10x), otherwise\r\n   * */\r\n  return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\r\n};\r\n","export * from './anims/fade-out';\r\nexport * from './anims/fade-out-in';\r\nexport * from './anims/flying';\r\nexport * from './anims/bounce-in';\r\nexport * from './anims/timing-event';\r\n","import { IPromiseResolve } from './interfaces';\r\n\r\nclass ParentLoader {\r\n  private __source: string;\r\n  protected ready: number; // Event to listen\r\n\r\n  constructor(source: string) {\r\n    this.__source = source;\r\n    this.ready = 0;\r\n  }\r\n\r\n  protected eventTracking<T>(resolve: IEmptyFunction, object: T): void {\r\n    this.ready--;\r\n\r\n    if (this.ready < 1) {\r\n      resolve({\r\n        source: this.source,\r\n        object: object\r\n      });\r\n    }\r\n  }\r\n\r\n  public get source(): string {\r\n    return this.__source;\r\n  }\r\n}\r\n\r\n/**\r\n * Making Parent Class to be extendable only\r\n * */\r\nabstract class Loader extends ParentLoader {\r\n  public static regexp: RegExp;\r\n  public abstract test(): boolean;\r\n  public abstract load(): Promise<IPromiseResolve>;\r\n}\r\n\r\nexport { Loader as AbstractLoader };\r\n","import AudioLoader from './loaders/audio';\r\nimport ImageLoader from './loaders/image';\r\nimport { IPromiseResolve, ILoaders } from './interfaces';\r\n\r\nexport type IAssets = HTMLImageElement | HTMLAudioElement;\r\n\r\nexport default class AssetsLoader {\r\n  private static assets: Map<string, IAssets> = new Map<string, IAssets>();\r\n  private callback?: IEmptyFunction;\r\n  private static loaders: ILoaders[] = [AudioLoader, ImageLoader];\r\n\r\n  constructor(sources: string[]) {\r\n    const InitializeLoad = sources.map((source: string) => {\r\n      for (const loader of AssetsLoader.loaders) {\r\n        const instance = new loader(source);\r\n\r\n        if (instance.test()) {\r\n          return instance.load();\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Throw if no available driver to handle the requests\r\n       * */\r\n\r\n      throw new Error('No available driver for file: ' + source);\r\n    });\r\n\r\n    Promise.all(InitializeLoad)\r\n      .then((resolveArray: IPromiseResolve[]) => {\r\n        resolveArray.forEach((resolve: IPromiseResolve) => {\r\n          AssetsLoader.assets.set(resolve.source, resolve.object as IAssets);\r\n        });\r\n\r\n        this.callback?.();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  // Call the instance function after all assets has been loaded\r\n  then(callback: IEmptyFunction): void {\r\n    this.callback = callback;\r\n  }\r\n\r\n  static get<T>(source: string): T {\r\n    return AssetsLoader.assets.get(source) as T;\r\n  }\r\n}\r\n\r\n// export const asset = AssetsLoader.get;\r\n","import { IPromiseResolve } from '../interfaces';\r\nimport { AbstractLoader } from '../abstraction';\r\n\r\nexport default class AudioLoader extends AbstractLoader {\r\n  public static regexp = /\\.(mp3|wav|ogg|aac)/i;\r\n\r\n  public test(): boolean {\r\n    return AudioLoader.regexp.test(this.source);\r\n  }\r\n\r\n  public load(): Promise<IPromiseResolve> {\r\n    // Load Event Count\r\n    this.ready = 2;\r\n\r\n    return new Promise<IPromiseResolve>((resolve: IEmptyFunction, reject) => {\r\n      const audio = new Audio();\r\n\r\n      /**\r\n       * Fully loaded\r\n       * */\r\n      audio.addEventListener('load', () => {\r\n        this.eventTracking<HTMLAudioElement>(resolve, audio);\r\n      });\r\n\r\n      /**\r\n       * Can Play Without bufferring\r\n       * */\r\n      audio.addEventListener('canplay', () => {\r\n        this.eventTracking<HTMLAudioElement>(resolve, audio);\r\n      });\r\n\r\n      /**\r\n       * Can Play Without Interruptions\r\n       * */\r\n      audio.addEventListener('canplaythrough', () => {\r\n        this.eventTracking<HTMLAudioElement>(resolve, audio);\r\n      });\r\n\r\n      audio.addEventListener('error', reject);\r\n\r\n      audio.src = this.source;\r\n    });\r\n  }\r\n}\r\n","import { IPromiseResolve } from '../interfaces';\r\nimport { AbstractLoader } from '../abstraction';\r\n\r\nexport default class ImageLoader extends AbstractLoader {\r\n  public static regexp = /\\.(jpe?g|png|svg|bmp|webp|webm|gif)/i;\r\n\r\n  public test(): boolean {\r\n    return ImageLoader.regexp.test(this.source);\r\n  }\r\n\r\n  public load(): Promise<IPromiseResolve> {\r\n    // Load Event Count\r\n    this.ready = 1;\r\n\r\n    return new Promise<IPromiseResolve>((resolve: IEmptyFunction, reject) => {\r\n      const img = new Image();\r\n\r\n      /**\r\n       * Fully loaded\r\n       * */\r\n      img.addEventListener('load', () => {\r\n        this.eventTracking<HTMLImageElement>(resolve, img);\r\n      });\r\n\r\n      img.addEventListener('error', reject);\r\n\r\n      img.src = this.source;\r\n    });\r\n  }\r\n}\r\n","export interface IScreenChangerObject {\r\n  Update(): void;\r\n  Display(context: CanvasRenderingContext2D): void;\r\n}\r\n\r\nexport default class ScreenChanger implements IScreenChangerObject {\r\n  private objects: Map<string, IScreenChangerObject>;\r\n  private currentState: string;\r\n\r\n  constructor() {\r\n    this.objects = new Map<string, IScreenChangerObject>();\r\n    this.currentState = '';\r\n  }\r\n\r\n  public setState(state: string): void {\r\n    this.currentState = state;\r\n  }\r\n\r\n  public register(name: string, classObject: IScreenChangerObject): void {\r\n    this.objects.set(name, classObject);\r\n  }\r\n\r\n  public Update(): void {\r\n    const classObject = this.objects.get(this.currentState);\r\n\r\n    if (classObject === void 0) {\r\n      throw new TypeError(`State ${this.currentState} does not exists`);\r\n    }\r\n\r\n    classObject.Update();\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const classObject = this.objects.get(this.currentState);\r\n\r\n    if (classObject === void 0) {\r\n      throw new TypeError(`State ${this.currentState} does not exists`);\r\n    }\r\n    classObject.Display(context);\r\n  }\r\n}\r\n","/**\r\n * A sprite destructor\r\n * */\r\n\r\nexport interface IPromiseImageHandled {\r\n  name: string;\r\n  img: HTMLImageElement;\r\n}\r\n\r\nexport type ICallbackModify = (\r\n  name: string,\r\n  img: HTMLImageElement\r\n) => Promise<HTMLImageElement>;\r\n\r\nexport default class SpriteDestructor {\r\n  // Virtuals\r\n  private readonly Canvas = document.createElement('canvas');\r\n  private ctx: CanvasRenderingContext2D;\r\n\r\n  /**\r\n   * Cache for later use\r\n   * */\r\n  private static readonly cached = new Map<string, HTMLImageElement>();\r\n\r\n  private loading: Promise<IPromiseImageHandled>[];\r\n\r\n  private then_called: boolean;\r\n  // private cutout_call_count: number;\r\n\r\n  constructor(private sprite: HTMLImageElement) {\r\n    this.ctx = this.Canvas.getContext('2d')!;\r\n    this.loading = [];\r\n    this.then_called = false;\r\n    // this.cutout_call_count = 0;\r\n  }\r\n\r\n  public async then(callback: IEmptyFunction): Promise<void> {\r\n    if (this.then_called) return;\r\n    this.then_called = true;\r\n\r\n    await Promise.allSettled(this.loading).then(\r\n      (resolved: PromiseSettledResult<IPromiseImageHandled>[]) => {\r\n        let error_count = 0;\r\n\r\n        for (const result of resolved) {\r\n          if (result.status === 'fulfilled' && 'value' in result) {\r\n            SpriteDestructor.cached.set(result.value.name, result.value.img);\r\n            continue;\r\n          }\r\n          ++error_count;\r\n        }\r\n\r\n        // console.info(\r\n        //   `Does match with cutout: ${this.cutout_call_count === resolved.length}`\r\n        // );\r\n        console.warn(`Error count: ${error_count}`);\r\n\r\n        callback();\r\n      }\r\n    );\r\n  }\r\n\r\n  public static asset(key: string): HTMLImageElement {\r\n    if (SpriteDestructor.cached.has(key)) return SpriteDestructor.cached.get(key)!;\r\n\r\n    throw new TypeError(`Key: ${key} does not defined on SpriteDestructor`);\r\n  }\r\n\r\n  public cutOut(name: string, sx: number, sy: number, dx: number, dy: number): void {\r\n    // Resize the canvas based on cutout image\r\n    this.Canvas.width = dx;\r\n    this.Canvas.height = dy;\r\n\r\n    this.ctx.clearRect(0, 0, dx, dy);\r\n\r\n    // Disable image Smoothing\r\n    this.ctx.imageSmoothingEnabled = false;\r\n\r\n    // Draw\r\n    this.ctx.drawImage(this.sprite, sx, sy, dx, dy, 0, 0, dx, dy);\r\n\r\n    this.feedImage(name);\r\n  }\r\n\r\n  private feedImage(name: string): void {\r\n    /**\r\n     * Load the cutout image then push it into promse handler\r\n     * */\r\n    this.loading.push(\r\n      new Promise<IPromiseImageHandled>(\r\n        (resolve: IEmptyFunction, reject: IEmptyFunction) => {\r\n          const img = new Image();\r\n          img.src = this.Canvas.toDataURL();\r\n          img.addEventListener('load', () => resolve({ name, img }));\r\n          img.addEventListener('error', (err) => reject(err));\r\n        }\r\n      )\r\n    );\r\n\r\n    // this.cutout_call_count++;\r\n  }\r\n}\r\n","interface ITextProperties {\r\n  position: ICoordinate;\r\n  preText: string;\r\n  postText: string;\r\n}\r\n\r\ninterface IContainerProperties {\r\n  startingPoint: ICoordinate;\r\n  endPoint: ICoordinate;\r\n}\r\n\r\nexport default class Stats {\r\n  private fps: number;\r\n  private timeArray: number[];\r\n  private context: CanvasRenderingContext2D;\r\n  private containerOpacity: number;\r\n  private textProps: ITextProperties;\r\n  private containerProps: IContainerProperties;\r\n\r\n  constructor(context: CanvasRenderingContext2D) {\r\n    this.fps = 0;\r\n    this.timeArray = [];\r\n    this.context = context;\r\n    this.containerOpacity = 0.4;\r\n    this.textProps = {\r\n      position: { x: 0, y: 0 },\r\n      preText: '',\r\n      postText: ''\r\n    };\r\n    this.containerProps = {\r\n      startingPoint: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      endPoint: {\r\n        x: 0,\r\n        y: 0\r\n      }\r\n    };\r\n  }\r\n\r\n  public text(pos: ICoordinate, preText: string, postText: string): void {\r\n    this.textProps.position = pos;\r\n    this.textProps.preText = preText;\r\n    this.textProps.postText = postText;\r\n  }\r\n\r\n  public container(aPoint: ICoordinate, bPoint: ICoordinate): void {\r\n    this.containerProps = {\r\n      startingPoint: aPoint,\r\n      endPoint: bPoint\r\n    };\r\n  }\r\n\r\n  public mark(): void {\r\n    const now = performance.now();\r\n\r\n    while (this.timeArray.length > 0 && this.timeArray[0] <= now - 1000) {\r\n      this.timeArray.shift();\r\n    }\r\n\r\n    this.timeArray.push(now);\r\n    this.fps = this.timeArray.length;\r\n\r\n    this.drawContainer();\r\n    this.drawText(String(this.fps));\r\n  }\r\n\r\n  private drawContainer(): void {\r\n    const ctx = this.context;\r\n    const { startingPoint, endPoint } = this.containerProps;\r\n\r\n    ctx.beginPath();\r\n    ctx.globalAlpha = this.containerOpacity;\r\n    ctx.fillStyle = '#1e1e20';\r\n    ctx.fillRect(startingPoint.x, startingPoint.y, endPoint.x, endPoint.y);\r\n    ctx.fill();\r\n    ctx.closePath();\r\n  }\r\n\r\n  private drawText(text: string) {\r\n    const ctx = this.context;\r\n    const { preText, postText, position } = this.textProps;\r\n    const out = `${preText}${text}${postText}`;\r\n\r\n    ctx.beginPath();\r\n    ctx.globalAlpha = 1; // Required\r\n    ctx.font = '30px monospace';\r\n    ctx.fillStyle = '#58d130';\r\n    ctx.textAlign = 'left';\r\n    ctx.fillText(out, position.x, position.y);\r\n    ctx.closePath();\r\n  }\r\n}\r\n","export type IStoreValue = string | number | boolean;\r\nexport interface IData {\r\n  type: IStoreValue;\r\n  value: string;\r\n}\r\n\r\nexport default class Storage {\r\n  private static sk: RegExpMatchArray | null | string = window.location.href\r\n    .toString()\r\n    .match(/([a-zA-Z-]+\\.github\\.io\\/[a-zA-Z\\-.]+\\/)/i);\r\n  private static isAvailable: boolean;\r\n\r\n  constructor() {\r\n    if ((Storage.sk ?? []).length < 1) Storage.sk = ['brrrrrrrrrrr'];\r\n    Storage.sk = Storage.utoa(Storage.sk![0]);\r\n\r\n    Storage.isAvailable = false;\r\n\r\n    try {\r\n      if ('localStorage' in window && typeof window.localStorage === 'object') {\r\n        Storage.isAvailable = true;\r\n      }\r\n    } catch (err) {\r\n      Storage.isAvailable = false;\r\n    }\r\n  }\r\n\r\n  static utoa(data: string): string {\r\n    return btoa(encodeURIComponent(data));\r\n  }\r\n\r\n  static atou(b64: string): string {\r\n    return decodeURIComponent(atob(b64));\r\n  }\r\n\r\n  static save(key: string, value: IStoreValue): void {\r\n    if (!Storage.isAvailable) {\r\n      console.warn('Storage is not available');\r\n      return;\r\n    }\r\n    const mode = typeof value;\r\n    if (typeof value !== 'string') {\r\n      value = String(value);\r\n    }\r\n    window.localStorage.setItem(\r\n      `__${Storage.sk! as string}_${key}__`,\r\n      Storage.utoa(JSON.stringify({ mode, value }))\r\n    );\r\n  }\r\n\r\n  static get(key: string): IStoreValue | undefined {\r\n    if (!Storage.isAvailable) {\r\n      console.warn('Storage is not available');\r\n      return void 0;\r\n    }\r\n\r\n    try {\r\n      const read_item = window.localStorage.getItem(\r\n        `__${Storage.sk! as string}_${key}__`\r\n      );\r\n\r\n      if (!read_item) return void 0;\r\n\r\n      const obj = JSON.parse(Storage.atou(read_item)) as IData;\r\n\r\n      let return_value: IStoreValue | undefined = void 0;\r\n\r\n      switch (obj.type) {\r\n        case 'string':\r\n          return_value = String(obj.value);\r\n          break;\r\n        case 'number':\r\n          return_value = Number(obj.value);\r\n          break;\r\n        case 'boolean':\r\n          return_value = obj.value === 'true' ? true : false;\r\n          break;\r\n      }\r\n\r\n      return return_value;\r\n    } catch (err) {\r\n      console.error('Failed to fetch highscore');\r\n      return void 0;\r\n    }\r\n  }\r\n}\r\n","/**\r\n * A library for handling sound Effects\r\n * Handling Sound Effects\r\n * */\r\n\r\nexport type IWebSfxObject = Record<string, string>;\r\nexport type IWebSfxCache = Record<string, AudioBuffer>;\r\nexport interface ILoadRequest {\r\n  content: AudioBuffer;\r\n  name: string;\r\n  path: string;\r\n}\r\n\r\ndeclare let webkitAudioContext: AudioContext;\r\n\r\nexport interface IWebSfxOptions {\r\n  autoInitAudioContext: boolean;\r\n  files: IWebSfxObject;\r\n}\r\n\r\nexport default class WebSfx {\r\n  public static audioContext: AudioContext;\r\n  private static Cached: IWebSfxCache = {};\r\n  private static concurrentDownload = 5;\r\n  private static gainContext: undefined | GainNode;\r\n  private static isReady = false;\r\n\r\n  /**\r\n   * The constructor function takes two arguments, files and callback. The files argument is an object\r\n   * that contains the file names of the audio files that you want to load. The callback argument is a\r\n   * function that will be called when all of the audio files have been loaded\r\n   * @param {IWebSfxObject} files - IWebSfxObject - This is an object that contains the files you want\r\n   * to load.\r\n   * @param {Function} callback - A function that will be called when all the files have been loaded.\r\n   */\r\n  constructor(files: IWebSfxObject, callback: IEmptyFunction) {\r\n    WebSfx.audioContext = new (AudioContext || webkitAudioContext)();\r\n\r\n    WebSfx.audioContext.addEventListener('statechange', () => {\r\n      WebSfx.isReady = WebSfx.audioContext.state === 'running';\r\n    });\r\n\r\n    WebSfx.load(files, callback);\r\n  }\r\n\r\n  /**\r\n   * It creates a buffer source, connects it to the gain node, and starts it\r\n   * @param {string} key - string - The key of the audio file to play.\r\n   * @returns Void.\r\n   */\r\n  public static play(key: string, endedcb?: IEmptyFunction): void {\r\n    if (typeof WebSfx.Cached[key] === void 0) {\r\n      throw new TypeError(`Key ${key} does not load or not exists.`);\r\n    }\r\n\r\n    if (WebSfx.gainContext === void 0) {\r\n      console.warn('WebSfx.play cannot execute. AudioContext is not started or resumed');\r\n      return;\r\n    }\r\n\r\n    if (!WebSfx.isReady) return;\r\n\r\n    try {\r\n      const context = WebSfx.audioContext!;\r\n      const bufferSource = context.createBufferSource();\r\n      bufferSource.buffer = WebSfx.Cached[key];\r\n      bufferSource.addEventListener('ended', () => endedcb?.());\r\n      bufferSource.connect(WebSfx.gainContext!);\r\n      bufferSource.start();\r\n    } catch (err) {\r\n      throw new Error(`Failed to play audio: ${key}. Error: ${err}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If the gainContext is not undefined, then set the gainContext's gain value to the number passed\r\n   * in.\r\n   * @param {number} num - number - The volume level to set. 0.0 is silent, 1.0 is full volume.\r\n   * @returns Void.\r\n   */\r\n  public static volume(num: number): void {\r\n    if (WebSfx.gainContext === void 0) {\r\n      console.warn(\r\n        'WebSfx.volume cannot set volume. AudioContext is not started or resumed'\r\n      );\r\n      return;\r\n    }\r\n\r\n    try {\r\n      WebSfx.gainContext!.gain.value = num;\r\n    } catch (err) {}\r\n  }\r\n\r\n  /**\r\n   * If the audioContext is ready, then return. Otherwise, resume the audioContext and create a gain\r\n   * node.\r\n   * @returns Promise<void>\r\n   */\r\n  public static async init(): Promise<void> {\r\n    /**\r\n     * Sometimes, WebSfx.audioContext.state returns \"running\" that makes\r\n     * WebSfx.isReady to true. However, we can check the WebSfx.gainContext\r\n     * if is set or not since it cannot be created without starting or resuming\r\n     * the audioContext.\r\n     * */\r\n    if (WebSfx.isReady && WebSfx.gainContext !== void 0) return;\r\n\r\n    // We should start after user event\r\n    await WebSfx.audioContext.resume();\r\n\r\n    const gain = WebSfx.audioContext.createGain();\r\n\r\n    // Output channel\r\n    gain.connect(WebSfx.audioContext.destination);\r\n    WebSfx.gainContext = gain;\r\n  }\r\n\r\n  /**\r\n   * Loading Assets Section\r\n   * */\r\n  private static load(files: IWebSfxObject, complete: IEmptyFunction, level = 0): void {\r\n    const loading = [];\r\n    const entries = Object.entries(files);\r\n\r\n    /**\r\n     * Do not load all files at once.\r\n     * */\r\n    for (\r\n      let i = level * WebSfx.concurrentDownload;\r\n      i < Math.min(entries.length, WebSfx.concurrentDownload);\r\n      i++\r\n    ) {\r\n      // Validating files\r\n      if (!/\\.(wav|ogg|mp3)$/i.test(entries[i][1])) {\r\n        throw new TypeError(\"WebSfx.contructor accepts 'wav|ogg|mp3' type of files\");\r\n      }\r\n\r\n      loading.push(WebSfx.load_requests(entries[i][0], entries[i][1]));\r\n    }\r\n\r\n    Promise.allSettled(loading).then((results) => {\r\n      // Store the buffer in WebSfx.Cached\r\n      results.forEach((result) => {\r\n        if (result.status === 'fulfilled') {\r\n          WebSfx.Cached[result.value.name] = result.value.content;\r\n          WebSfx.Cached[result.value.path] = WebSfx.Cached[result.value.name];\r\n        } else {\r\n          // What can I do to rejected?\r\n        }\r\n      });\r\n\r\n      if (entries.length > (level + 1) * WebSfx.concurrentDownload) {\r\n        WebSfx.load(files, complete, level + 1);\r\n      } else {\r\n        complete(WebSfx.Cached);\r\n      }\r\n    });\r\n  }\r\n\r\n  private static load_requests(name: string, path: string): Promise<ILoadRequest> {\r\n    return new Promise<ILoadRequest>(async (resolve: Function, reject: Function) => {\r\n      try {\r\n        const response = await fetch(path, { method: 'GET', mode: 'no-cors' });\r\n\r\n        if (!response.ok) throw new TypeError(`Erro while fetching '${path}`);\r\n\r\n        // We cannot cannot cache array buffer with dettached head\r\n        const buffer = await response.arrayBuffer();\r\n\r\n        // But luckily, we can do cache the AudioBuffer\r\n        const content = await WebSfx.audioContext!.decodeAudioData(buffer);\r\n\r\n        resolve({ content, path, name });\r\n      } catch (err) {\r\n        reject();\r\n      }\r\n    });\r\n  }\r\n}\r\n","/**\r\n * https://webpack.js.org/guides/progressive-web-application/\r\n * */\r\nexport default () => {\r\n  if ('serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      navigator.serviceWorker\r\n        .register('./service-worker.js')\r\n        .then(() => {\r\n          console.log('SW registered');\r\n        })\r\n        .catch(() => {\r\n          console.log('SW registration failed');\r\n        });\r\n    });\r\n  }\r\n};\r\n","import { BG_SPEED } from '../constants';\r\nimport { rescaleDim } from '../utils';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport SceneGenerator from './scene-generator';\r\n\r\nexport type ITheme = string;\r\nexport type IRecords = Map<ITheme, HTMLImageElement>;\r\nexport default class Background extends ParentClass {\r\n  /**\r\n   * background dimension.\r\n   * */\r\n  private backgroundSize: IDimension;\r\n\r\n  private images: IRecords;\r\n  private theme: ITheme;\r\n\r\n  constructor() {\r\n    super();\r\n    this.images = new Map<ITheme, HTMLImageElement>();\r\n    this.theme = 'day';\r\n\r\n    this.velocity.x = BG_SPEED;\r\n\r\n    this.backgroundSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Initialize Images after all asset has been loaded\r\n   * */\r\n  public init(): void {\r\n    this.images.set('day', SpriteDestructor.asset('theme-day'));\r\n    this.images.set('night', SpriteDestructor.asset('theme-night'));\r\n\r\n    Object.assign(SceneGenerator.bgThemeList, ['day', 'night']);\r\n    this.use(SceneGenerator.background);\r\n  }\r\n\r\n  public reset(): void {\r\n    this.coordinate = { x: 0, y: 0 };\r\n    this.resize(this.canvasSize);\r\n    this.use(SceneGenerator.background);\r\n  }\r\n\r\n  /**\r\n   * Select either day and night\r\n   * */\r\n  public use(select: ITheme): void {\r\n    this.theme = select;\r\n  }\r\n\r\n  /**\r\n   * Resize Background image while Keeping the same ratio\r\n   * */\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.backgroundSize = rescaleDim(\r\n      {\r\n        width: this.images.get(this.theme)!.width,\r\n        height: this.images.get(this.theme)!.height\r\n      },\r\n      { height }\r\n    );\r\n  }\r\n\r\n  public Update(): void {\r\n    /**\r\n     * We use linear interpolation instead of by pixel to move the object.\r\n     * It is to keep the speed same in different Screen Sizes & Screen DPI.\r\n     *\r\n     * The only problem that left is the time difference.\r\n     * We cannot rely on fps since it is not a constant value.\r\n     * Which means is the game will speed up or slow down based on fps\r\n     * */\r\n    this.coordinate.x += this.canvasSize.width * this.velocity.x;\r\n    this.coordinate.y += this.velocity.y;\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const { width, height } = this.backgroundSize;\r\n    const { x, y } = this.coordinate;\r\n\r\n    // Get how many sequence we need to fill the screen\r\n    const sequence = Math.ceil(this.canvasSize.width / width) + 1;\r\n\r\n    // Keep the images on screen.\r\n    // X coordinate may gave us -99999999 values\r\n    // But using modulo we're just getting -width of an image\r\n    const offset = x % width;\r\n\r\n    // Draw the background next to each other in given sequence\r\n    for (let i = 0; i < sequence; i++) {\r\n      context.drawImage(\r\n        this.images.get(this.theme)!,\r\n        i * (width - i) - offset,\r\n        y,\r\n        width,\r\n        height\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { rescaleDim } from '../utils';\r\n\r\nimport { FadeOut } from '../lib/animation';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\n\r\nexport interface IImagePositions {\r\n  instructImage: ICoordinate;\r\n  getReadyImage: ICoordinate;\r\n}\r\n\r\nexport interface IBannerInstructionConst {\r\n  positions: IImagePositions;\r\n  fadeOutDuration: number;\r\n}\r\n\r\nconst BANNER_INSTRUCTION: IBannerInstructionConst = {\r\n  // Modifiable\r\n  fadeOutDuration: 1, // Sec\r\n  positions: {\r\n    instructImage: {\r\n      x: 0.5,\r\n      y: 0.515\r\n    },\r\n    getReadyImage: {\r\n      x: 0.5,\r\n      y: 0.328\r\n    }\r\n  }\r\n};\r\n\r\nexport interface ITextureProperties {\r\n  size: number; // Can modify\r\n\r\n  // System Variables\r\n  position: ICoordinate;\r\n  image: HTMLImageElement | undefined;\r\n  scaled: IDimension;\r\n}\r\n\r\nexport default class BannerInstruction extends ParentClass {\r\n  private instructImage: ITextureProperties;\r\n  private getReadyImage: ITextureProperties;\r\n  private opacity: number;\r\n  private fadeOut: FadeOut;\r\n  private isComplete: boolean;\r\n  private doesTap: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n    this.instructImage = {\r\n      size: 0.4,\r\n      position: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      image: void 0,\r\n      scaled: {\r\n        width: 0,\r\n        height: 0\r\n      }\r\n    };\r\n    this.getReadyImage = {\r\n      size: 0.65,\r\n      position: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      image: void 0,\r\n      scaled: {\r\n        width: 0,\r\n        height: 0\r\n      }\r\n    };\r\n    this.fadeOut = new FadeOut({\r\n      transition: 'linear'\r\n    });\r\n    this.opacity = 1;\r\n    this.isComplete = false;\r\n    this.doesTap = false;\r\n  }\r\n\r\n  public init(): void {\r\n    this.instructImage.image = SpriteDestructor.asset('banner-instruction');\r\n    this.getReadyImage.image = SpriteDestructor.asset('banner-game-ready');\r\n  }\r\n\r\n  public reset(): void {\r\n    this.opacity = 1;\r\n    this.isComplete = false;\r\n    this.doesTap = false;\r\n  }\r\n\r\n  public tap() {\r\n    if (this.isComplete) return;\r\n    this.fadeOut.start();\r\n    this.isComplete = true;\r\n    this.doesTap = true;\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.instructImage.scaled = rescaleDim(\r\n      {\r\n        width: this.instructImage.image!.width,\r\n        height: this.instructImage.image!.height\r\n      },\r\n      { width: width * this.instructImage.size }\r\n    );\r\n\r\n    this.getReadyImage.scaled = rescaleDim(\r\n      {\r\n        width: this.getReadyImage.image!.width,\r\n        height: this.getReadyImage.image!.height\r\n      },\r\n      { width: width * this.getReadyImage.size }\r\n    );\r\n\r\n    const instructImagePos = BANNER_INSTRUCTION.positions.instructImage;\r\n    const getReadyImagePos = BANNER_INSTRUCTION.positions.getReadyImage;\r\n\r\n    this.instructImage.position.x =\r\n      width * instructImagePos.x - this.instructImage.scaled.width / 2;\r\n    this.instructImage.position.y =\r\n      height * instructImagePos.y - this.instructImage.scaled.height / 2;\r\n\r\n    this.getReadyImage.position.x =\r\n      width * getReadyImagePos.x - this.getReadyImage.scaled.width / 2;\r\n    this.getReadyImage.position.y =\r\n      height * getReadyImagePos.y - this.getReadyImage.scaled.height / 2;\r\n  }\r\n\r\n  public Update(): void {\r\n    if (!this.doesTap) {\r\n      this.opacity = 1;\r\n      return;\r\n    }\r\n    this.opacity = this.fadeOut.value;\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    if (this.opacity <= 0) return;\r\n\r\n    context.globalAlpha = this.opacity;\r\n\r\n    context.drawImage(\r\n      this.getReadyImage.image!,\r\n      this.getReadyImage.position.x,\r\n      this.getReadyImage.position.y,\r\n      this.getReadyImage.scaled.width,\r\n      this.getReadyImage.scaled.height\r\n    );\r\n\r\n    context.drawImage(\r\n      this.instructImage.image!,\r\n      this.instructImage.position.x,\r\n      this.instructImage.position.y,\r\n      this.instructImage.scaled.width,\r\n      this.instructImage.scaled.height\r\n    );\r\n\r\n    context.globalAlpha = 1;\r\n  }\r\n}\r\n","import {\r\n  BIRD_HEIGHT,\r\n  BIRD_INITIAL_DIMENSION,\r\n  BIRD_JUMP_HEIGHT,\r\n  BIRD_MAX_DOWN_VELOCITY,\r\n  BIRD_MAX_ROTATION,\r\n  BIRD_MAX_UP_VELOCITY,\r\n  BIRD_MIN_ROTATION,\r\n  BIRD_WEIGHT,\r\n  BIRD_X_POSITION\r\n} from '../constants';\r\nimport { clamp, flipRange, rescaleDim, sine as sineWave } from '../utils';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport Pipe from './pipe';\r\nimport Sfx from './sfx';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport SceneGenerator from './scene-generator';\r\n\r\nexport type IBirdColor = string;\r\nexport type IBirdRecords = Map<IBirdColor, HTMLImageElement>;\r\n\r\nexport default class Bird extends ParentClass {\r\n  private static readonly FLAG_IS_ALIVE = 0b0001;\r\n  private static readonly FLAG_DIED = 0b0010;\r\n  private static readonly FLAG_DOES_LANDED = 0b0100;\r\n  private flags: number;\r\n\r\n  /**\r\n   * Platform Height\r\n   * */\r\n  public static platformHeight = 0;\r\n\r\n  /**\r\n   * Score\r\n   * */\r\n  public score: number;\r\n\r\n  /**\r\n   * 0 - Up\r\n   * 1 - Mid\r\n   * 2 - Down\r\n   * */\r\n  private wingState: number;\r\n\r\n  /**\r\n   * Scaled width and height\r\n   * */\r\n  private scaled: IDimension;\r\n\r\n  /**\r\n   * Bird Rotation (Degree)\r\n   * */\r\n  private rotation: number;\r\n\r\n  /**\r\n   * Calculated Fixed Force to lift\r\n   * */\r\n  private force: number;\r\n\r\n  /**\r\n   * Cause of death\r\n   *\r\n   * 0 - None\r\n   * 1 - Fall\r\n   * 2 - Collidde\r\n   * */\r\n  private causeOfDeath: number;\r\n\r\n  private images: IBirdRecords;\r\n  private color: IBirdColor;\r\n  private lastCoord: number;\r\n  private max_lift_velocity: number;\r\n  private max_fall_velocity: number;\r\n\r\n  constructor() {\r\n    super();\r\n    this.color = 'yellow';\r\n    this.images = new Map<string, HTMLImageElement>();\r\n    this.force = 0;\r\n    this.scaled = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.max_fall_velocity = 0;\r\n    this.max_lift_velocity = 0;\r\n    this.score = 0;\r\n    this.rotation = 0;\r\n    this.causeOfDeath = 0;\r\n    this.flags = 0b0001;\r\n    this.lastCoord = 0;\r\n    this.wingState = 1;\r\n  }\r\n\r\n  /**\r\n   * We Initialize the constructor of the object first while the assets\r\n   * is still loading.\r\n   *\r\n   * We call this init() method after the all required\r\n   * asset has been loaded.\r\n   * */\r\n  public init(): void {\r\n    this.images.set('yellow.0', SpriteDestructor.asset('bird-yellow-up'));\r\n    this.images.set('yellow.1', SpriteDestructor.asset('bird-yellow-mid'));\r\n    this.images.set('yellow.2', SpriteDestructor.asset('bird-yellow-down'));\r\n    this.images.set('blue.0', SpriteDestructor.asset('bird-blue-up'));\r\n    this.images.set('blue.1', SpriteDestructor.asset('bird-blue-mid'));\r\n    this.images.set('blue.2', SpriteDestructor.asset('bird-blue-down'));\r\n    this.images.set('red.0', SpriteDestructor.asset('bird-red-up'));\r\n    this.images.set('red.1', SpriteDestructor.asset('bird-red-mid'));\r\n    this.images.set('red.2', SpriteDestructor.asset('bird-red-down'));\r\n\r\n    Object.assign(SceneGenerator.birdColorList, ['yellow', 'red', 'blue']);\r\n    this.use(SceneGenerator.bird);\r\n  }\r\n\r\n  private variableReset(): void {\r\n    this.score = 0;\r\n    this.rotation = 0;\r\n    this.causeOfDeath = 0;\r\n    this.flags = 0b0001;\r\n    this.lastCoord = 0;\r\n    this.wingState = 1;\r\n  }\r\n\r\n  public reset(): void {\r\n    this.variableReset();\r\n    this.resize(this.canvasSize);\r\n    this.use(SceneGenerator.bird);\r\n  }\r\n\r\n  public get alive(): boolean {\r\n    return (this.flags & Bird.FLAG_IS_ALIVE) !== 0;\r\n  }\r\n\r\n  /**\r\n   * Resizing canvas is pretty tricky but\r\n   * to keep the position of the object\r\n   * we do use percentages than pixels since percentages\r\n   * does keep the position.\r\n   *\r\n   * */\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.coordinate.y = Bird.platformHeight * 0.5;\r\n    this.coordinate.x = width * BIRD_X_POSITION;\r\n\r\n    this.force = height * BIRD_JUMP_HEIGHT;\r\n    this.scaled = rescaleDim(BIRD_INITIAL_DIMENSION, {\r\n      height: height * BIRD_HEIGHT\r\n    });\r\n\r\n    this.max_fall_velocity = this.canvasSize.height * BIRD_MAX_DOWN_VELOCITY;\r\n    this.max_lift_velocity = this.canvasSize.height * BIRD_MAX_UP_VELOCITY;\r\n  }\r\n\r\n  /**\r\n   * Do wave like thing using Sine wave\r\n   *\r\n   * @param ICoordinate\r\n   * @param waveSpeed - frequency hz\r\n   * @param amplitude - amplitude\r\n   * */\r\n  public doWave({ x, y }: ICoordinate, frequency: number, amplitude: number): void {\r\n    this.flapWing(3);\r\n    y += sineWave(frequency, amplitude);\r\n    this.coordinate = { x, y };\r\n  }\r\n\r\n  /**\r\n   * Flap wing using sine wave\r\n   *\r\n   * @param speed - flap speed\r\n   * */\r\n  private flapWing(speed: number): void {\r\n    this.wingState = (1 + sineWave(speed, 2)) | 0;\r\n\r\n    // Make sure the wing is set to mid flap when the bird is falling\r\n    if (this.rotation > 70) {\r\n      this.wingState = 1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add lift to bird that slowly decrease by weight\r\n   * */\r\n  public flap(): void {\r\n    // Prevent flapping when the height of bird is\r\n    // at the very top of canvas or the bird is not alive\r\n    if (this.coordinate.y < 0 || (this.flags & Bird.FLAG_IS_ALIVE) === 0) {\r\n      return;\r\n    }\r\n\r\n    Sfx.wing();\r\n    this.velocity.y = this.force;\r\n    this.lastCoord = this.coordinate.y;\r\n  }\r\n\r\n  /**\r\n   * Check if the bird touches the platform\r\n   * */\r\n  private doesHitTheFloor(): boolean {\r\n    return (\r\n      this.coordinate.y + this.rotatedDimension().height >\r\n      Math.abs(this.canvasSize.height - Bird.platformHeight)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Check if the bird collided with the pipes\r\n   * */\r\n  public isDead(pipes: Pipe[]): boolean {\r\n    if (this.doesHitTheFloor()) {\r\n      this.flags &= ~Bird.FLAG_IS_ALIVE;\r\n      this.causeOfDeath = 1;\r\n      return (this.flags & Bird.FLAG_IS_ALIVE) === 0;\r\n    }\r\n\r\n    const newDim = this.rotatedDimension();\r\n    const boundary = newDim.width - newDim.height / 2;\r\n\r\n    for (const pipe of pipes) {\r\n      try {\r\n        // Midpoint Holl Coordinate\r\n        const hcx = pipe.coordinate.x;\r\n        const hcy = pipe.coordinate.y;\r\n        const radius = pipe.hollSize / 2; // Radius\r\n        const width = Pipe.pipeSize.width / 2; // Half Size\r\n\r\n        // Skip past pipe\r\n        // ---------- Out\r\n        if (hcx + width < this.coordinate.x - boundary) continue;\r\n\r\n        // Is Inside of Pipes?\r\n        // In ----------\r\n        if (Math.abs(hcx - width) <= this.coordinate.x + boundary) {\r\n          // Will get score after passing the\r\n          // center width of pipe\r\n          if (hcx < this.coordinate.x && !pipe.isPassed) {\r\n            this.score++;\r\n            Sfx.point();\r\n            pipe.isPassed = true;\r\n          }\r\n\r\n          // Top Pipe ---------- Bottom Pipe\r\n          if (\r\n            Math.abs(hcy - radius) >= this.coordinate.y - newDim.height ||\r\n            hcy + radius <= this.coordinate.y + newDim.height\r\n          ) {\r\n            this.flags &= ~Bird.FLAG_IS_ALIVE;\r\n            this.causeOfDeath = 2;\r\n            break;\r\n          }\r\n        }\r\n\r\n        // Only the first pipe should be check\r\n        break;\r\n      } catch (err) {}\r\n    }\r\n\r\n    return (this.flags & Bird.FLAG_IS_ALIVE) === 0;\r\n  }\r\n\r\n  private rotatedDimension(): IDimension {\r\n    const rad = (this.rotation * Math.PI) / 180;\r\n    const w = this.scaled.width / 2;\r\n    const h = this.scaled.height / 2;\r\n\r\n    const sTheta = Math.sin(rad);\r\n    const cTheta = Math.cos(rad);\r\n\r\n    return {\r\n      width: 2 * Math.sqrt(Math.pow(w * cTheta, 2) + Math.pow(h * sTheta, 2)),\r\n      height: 2 * Math.sqrt(Math.pow(w * sTheta, 2) + Math.pow(h * cTheta, 2))\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Play fall die sound once once the bird died\r\n   */\r\n  public playDead(): void {\r\n    if ((this.flags & Bird.FLAG_DIED) !== 0) return;\r\n    this.flags |= Bird.FLAG_DIED;\r\n    if (this.causeOfDeath === 2) Sfx.die();\r\n  }\r\n\r\n  /**\r\n   * Change the color of the bird\r\n   *\r\n   * @param color string color of bird. (red | yellow | blue)\r\n   */\r\n  public use(color: IBirdColor): void {\r\n    this.color = color;\r\n  }\r\n\r\n  /**\r\n   * Handling Bird Rotation\r\n   * */\r\n  private handleRotation(): void {\r\n    this.rotation += this.coordinate.y < this.lastCoord ? -7.2 : 6.5;\r\n    this.rotation = clamp(BIRD_MIN_ROTATION, BIRD_MAX_ROTATION, this.rotation);\r\n\r\n    if ((this.flags & Bird.FLAG_IS_ALIVE) === 0) {\r\n      this.wingState = 1;\r\n      return;\r\n    }\r\n\r\n    // Handle Flap Speed\r\n    const birdMinRot = Math.abs(BIRD_MIN_ROTATION);\r\n    const f = 4 + ((this.rotation + birdMinRot) / (birdMinRot + BIRD_MAX_ROTATION)) * 3.2;\r\n    this.flapWing(flipRange(4, 8.2, f));\r\n  }\r\n\r\n  public Update(): void {\r\n    // Always above the floor\r\n    if (this.doesHitTheFloor() || (this.flags & Bird.FLAG_DOES_LANDED) !== 0) {\r\n      this.flags |= Bird.FLAG_DOES_LANDED;\r\n\r\n      this.coordinate.y =\r\n        this.canvasSize.height - Bird.platformHeight - this.rotatedDimension().height;\r\n      this.handleRotation();\r\n      return;\r\n    }\r\n\r\n    // Add the Y velocity into Y coordinate but make sure we did not overspeed\r\n    this.coordinate.y += clamp(\r\n      this.max_lift_velocity,\r\n      this.max_fall_velocity,\r\n      this.velocity.y\r\n    );\r\n\r\n    // Slowly reduce the Y velocity by given weights\r\n    this.velocity.y += this.canvasSize.height * BIRD_WEIGHT;\r\n\r\n    this.handleRotation();\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const birdKeyString = `${this.color}.${this.wingState}`;\r\n\r\n    // Save our previous created picture\r\n    context.save();\r\n\r\n    // Move the imaginary cursor into the bird position\r\n    context.translate(this.coordinate.x, this.coordinate.y);\r\n\r\n    // Rotate the context using the code above as mid point\r\n    context.rotate((this.rotation * Math.PI) / 180);\r\n\r\n    // Start the image at top-left then bottom-right\r\n    context.drawImage(\r\n      this.images.get(birdKeyString)!,\r\n      -this.scaled.width,\r\n      -this.scaled.height,\r\n      this.scaled.width * 2,\r\n      this.scaled.height * 2\r\n    );\r\n\r\n    // Restore the previously created picture but keeping the bird\r\n    context.restore();\r\n  }\r\n}\r\n","import Parent from '../abstracts/button-event-handler';\r\nimport Sfx from './sfx';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\n\r\nexport default class PlayButton extends Parent {\r\n  protected callback?: IEmptyFunction;\r\n\r\n  constructor() {\r\n    super();\r\n    this.initialWidth = 0.38;\r\n    this.coordinate = {\r\n      x: 0.259,\r\n      y: 0.6998\r\n    };\r\n    this.active = true;\r\n  }\r\n\r\n  public click(): void {\r\n    Sfx.swoosh();\r\n    this.callback?.();\r\n  }\r\n\r\n  public onClick(callback: IEmptyFunction): void {\r\n    this.callback = callback;\r\n  }\r\n\r\n  public init(): void {\r\n    this.img = SpriteDestructor.asset('btn-play');\r\n  }\r\n\r\n  public Update(): void {\r\n    this.reset();\r\n\r\n    if (this.isHovered) {\r\n      this.move({\r\n        x: 0,\r\n        y: 0.004\r\n      });\r\n    }\r\n\r\n    super.Update();\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const xLoc = this.calcCoord.x;\r\n    const yLoc = this.calcCoord.y;\r\n    const xRad = this.dimension.width / 2;\r\n    const yRad = this.dimension.height / 2;\r\n\r\n    context.drawImage(this.img!, xLoc - xRad, yLoc - yRad, xRad * 2, yRad * 2);\r\n  }\r\n}\r\n","import PlayButton from './btn-play'; // Instead of duplicating\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\n\r\n/**\r\n * Instead of creating everything from scratch\r\n * Let us depend on PlayButton since they are\r\n * identical and just their image, x-axis, and\r\n * on click event are different\r\n * */\r\nexport default class RankingButton extends PlayButton {\r\n  constructor() {\r\n    super();\r\n    this.coordinate.x = 0.741;\r\n  }\r\n\r\n  public init(): void {\r\n    this.img = SpriteDestructor.asset('btn-ranking');\r\n  }\r\n}\r\n","import PlayButton from './btn-play'; // Instead of duplicating\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport { openInNewTab } from '../utils';\r\n\r\n/**\r\n * Instead of creating everything from scratch\r\n * Let us depend on PlayButton since they have\r\n * a lot of similarities\r\n * */\r\nexport default class RateNutton extends PlayButton {\r\n  constructor() {\r\n    super();\r\n    this.initialWidth = 0.24;\r\n    this.coordinate.x = 0.5;\r\n    this.coordinate.y = 0.53;\r\n  }\r\n\r\n  public init(): void {\r\n    this.img = SpriteDestructor.asset('btn-rate');\r\n  }\r\n\r\n  public click(): void {\r\n    // Do rate\r\n    // Open new Tab the goto to Github Repository\r\n\r\n    // Hard Coded\r\n    openInNewTab('https://github.com/jxmked/Flappybird');\r\n  }\r\n}\r\n","import Parent from '../abstracts/button-event-handler';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport Sfx from './sfx';\r\n\r\nexport default class ToggleSpeakerBtn extends Parent {\r\n  private assets: Map<string, HTMLImageElement>;\r\n  private is_mute: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n    this.initialWidth = 0.1;\r\n    this.assets = new Map();\r\n    this.is_mute = false;\r\n    this.coordinate.x = 0.93;\r\n    this.coordinate.y = 0.04;\r\n    this.active = true;\r\n  }\r\n\r\n  public click(): void {\r\n    Sfx.swoosh();\r\n    this.is_mute = !this.is_mute;\r\n\r\n    Sfx.currentVolume = this.is_mute ? 0 : 1;\r\n  }\r\n\r\n  private setImg(): void {\r\n    const key = `${this.is_mute ? 'mute' : 'unmute'}`;\r\n    this.img = this.assets.get(key)!;\r\n  }\r\n\r\n  public init(): void {\r\n    this.assets.set('mute', SpriteDestructor.asset('btn-mute'));\r\n    this.assets.set('unmute', SpriteDestructor.asset('btn-speaker'));\r\n\r\n    this.setImg();\r\n  }\r\n\r\n  public Update(): void {\r\n    this.reset();\r\n\r\n    if (this.isHovered) {\r\n      this.move({\r\n        x: 0,\r\n        y: 0.004\r\n      });\r\n    }\r\n\r\n    this.setImg();\r\n\r\n    super.Update();\r\n  }\r\n\r\n  public Display(ctx: CanvasRenderingContext2D): void {\r\n    const xLoc = this.calcCoord.x;\r\n    const yLoc = this.calcCoord.y;\r\n    const xRad = this.dimension.width / 2;\r\n    const yRad = this.dimension.height / 2;\r\n\r\n    ctx.drawImage(this.img!, xLoc - xRad, yLoc - yRad, xRad * 2, yRad * 2);\r\n  }\r\n}\r\n","import { COUNT_COORDINATE, COUNT_DIMENSION } from '../constants';\r\nimport { rescaleDim } from '../utils';\r\n\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\n\r\nexport type INumberString = Record<string, HTMLImageElement>;\r\n\r\nexport default class Count extends ParentClass {\r\n  private currentValue: number;\r\n  private numberAsset: INumberString;\r\n  private numberDimension: IDimension;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.currentValue = 0;\r\n    this.numberAsset = {};\r\n    this.numberDimension = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n  }\r\n\r\n  public init(): void {\r\n    this.setInitAsset(0, 'number-lg-0');\r\n    this.setInitAsset(1, 'number-lg-1');\r\n    this.setInitAsset(2, 'number-lg-2');\r\n    this.setInitAsset(3, 'number-lg-3');\r\n    this.setInitAsset(4, 'number-lg-4');\r\n    this.setInitAsset(5, 'number-lg-5');\r\n    this.setInitAsset(6, 'number-lg-6');\r\n    this.setInitAsset(7, 'number-lg-7');\r\n    this.setInitAsset(8, 'number-lg-8');\r\n    this.setInitAsset(9, 'number-lg-9');\r\n  }\r\n\r\n  private setInitAsset(num: number, loc: string): void {\r\n    this.numberAsset[String(num)] = SpriteDestructor.asset(loc);\r\n  }\r\n\r\n  public setNum(value: number): void {\r\n    this.currentValue = value;\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n    this.numberDimension = rescaleDim(COUNT_DIMENSION, {\r\n      height: height * 0.065\r\n    });\r\n\r\n    this.coordinate.x = this.canvasSize.width * COUNT_COORDINATE.x;\r\n    this.coordinate.y = this.canvasSize.height * COUNT_COORDINATE.y;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  public Update(): void {}\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const numArr: string[] = String(this.currentValue).split('');\r\n    const totalWidth = numArr.length * this.numberDimension.width;\r\n    let lastWidth: number = this.coordinate.x - totalWidth / 2;\r\n    const topPos = this.coordinate.y - this.numberDimension.height / 2;\r\n\r\n    numArr.forEach((numString: string) => {\r\n      context.drawImage(\r\n        this.numberAsset[numString],\r\n        lastWidth,\r\n        topPos,\r\n        this.numberDimension.width,\r\n        this.numberDimension.height\r\n      );\r\n\r\n      lastWidth += this.numberDimension.width;\r\n    });\r\n  }\r\n}\r\n","import ParentClass from '../abstracts/parent-class';\r\nimport { FadeOut } from '../lib/animation';\r\nimport { IEasingKey } from '../lib/animation/easing';\r\nimport { IFadingStatus } from '../lib/animation/abstracts/fading';\r\n\r\nexport interface IFlashScreenConstructorOption {\r\n  style: string;\r\n  strong: number;\r\n  interval: number;\r\n  easing: IEasingKey;\r\n}\r\n\r\nexport interface IRecordEvent {\r\n  range: {\r\n    min: number;\r\n    max: number;\r\n  };\r\n  callback: IEmptyFunction;\r\n  isCalled: boolean;\r\n}\r\n\r\nexport interface IFlashScreenStatus extends IFadingStatus {\r\n  value: number;\r\n}\r\n\r\nexport default class FlashScreen extends ParentClass {\r\n  private fadeEvent: FadeOut;\r\n  private strong: number;\r\n  private style: string;\r\n  private events: IRecordEvent[];\r\n  private value: number;\r\n\r\n  constructor({ style, strong, interval, easing }: IFlashScreenConstructorOption) {\r\n    super();\r\n    this.strong = strong;\r\n    this.style = style;\r\n    this.events = [];\r\n    this.fadeEvent = new FadeOut({\r\n      duration: interval,\r\n      transition: easing\r\n    });\r\n    this.value = 0;\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  public init(): void {}\r\n\r\n  public reset(): void {\r\n    this.fadeEvent.reset();\r\n    for (const evt of this.events) {\r\n      evt.isCalled = false;\r\n    }\r\n  }\r\n\r\n  public start(): void {\r\n    this.fadeEvent.start();\r\n  }\r\n\r\n  public setEvent(range: number[], callback: IEmptyFunction): void {\r\n    this.events.push({\r\n      range: {\r\n        min: range[0],\r\n        max: range[1]\r\n      },\r\n      callback,\r\n      isCalled: false\r\n    });\r\n  }\r\n\r\n  public get status(): IFlashScreenStatus {\r\n    return { ...this.fadeEvent.status, value: this.value };\r\n  }\r\n\r\n  public Update(): void {\r\n    if (!this.status.complete || this.status.running) {\r\n      this.value = this.fadeEvent.value;\r\n\r\n      for (const evt of this.events) {\r\n        if (evt.isCalled) continue;\r\n\r\n        if (evt.range.min <= this.value && evt.range.max >= this.value) {\r\n          evt.callback();\r\n          evt.isCalled = true;\r\n        }\r\n      }\r\n    } else {\r\n      this.value = 0;\r\n    }\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    context.globalAlpha = this.strong * this.value;\r\n    context.fillStyle = this.style;\r\n    context.fillRect(0, 0, this.canvasSize.width, this.canvasSize.height);\r\n    context.fill();\r\n    context.globalAlpha = 1;\r\n  }\r\n}\r\n","import { PIPE_DISTANCE, PIPE_MIN_GAP } from '../constants';\r\nimport { randomClamp } from '../utils';\r\nimport Pipe from './pipe';\r\nimport SceneGenerator from './scene-generator';\r\nimport { IPipeColor } from './pipe';\r\nexport interface IRange {\r\n  min: number;\r\n  max: number;\r\n}\r\n\r\nexport interface IPipeGeneratorOption {\r\n  max: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport interface IPipeGeneratorValue {\r\n  position: ICoordinate;\r\n}\r\n\r\nexport default class PipeGenerator {\r\n  /**\r\n   * Minimum and Maximum number to generate locate\r\n   */\r\n  private range: IRange;\r\n\r\n  /**\r\n   * Width of platform\r\n   */\r\n  private width: number;\r\n\r\n  /**\r\n   * Pipe Array\r\n   * */\r\n  public pipes: Pipe[];\r\n\r\n  /**\r\n   * Expected Distance between Pipes\r\n   * */\r\n  private distance: number;\r\n\r\n  /**\r\n   * Initial X position of new pipe\r\n   * */\r\n  private initialXPos: number;\r\n\r\n  /**\r\n   * Canvas Size\r\n   * */\r\n  private canvasSize: IDimension;\r\n\r\n  private pipeColor: IPipeColor;\r\n\r\n  constructor() {\r\n    this.range = { max: 0, min: 0 };\r\n    this.width = 0;\r\n    this.pipes = [];\r\n    this.distance = 0;\r\n    this.initialXPos = 0;\r\n    this.canvasSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.pipeColor = 'green';\r\n  }\r\n\r\n  public reset(): void {\r\n    this.pipes.splice(0, this.pipes.length);\r\n    this.resize({\r\n      max: this.range.max,\r\n      width: this.canvasSize.width,\r\n      height: this.canvasSize.height\r\n    });\r\n    this.pipeColor = SceneGenerator.pipe;\r\n  }\r\n\r\n  public resize({ max, width, height }: IPipeGeneratorOption): void {\r\n    this.range = { max, min: height * PIPE_MIN_GAP };\r\n    this.distance = width * PIPE_DISTANCE;\r\n    this.width = width;\r\n    this.canvasSize = { width, height };\r\n\r\n    for (const pipe of this.pipes) {\r\n      pipe.resize(this.canvasSize);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will return true if the distance of last pipe is equal or greater than\r\n   * expected distance from max width\r\n   */\r\n  public needPipe(): boolean {\r\n    const pipeLen = this.pipes.length;\r\n\r\n    if (pipeLen === 0) {\r\n      this.initialXPos = (this.width + Pipe.pipeSize.width) * 2;\r\n      return true;\r\n    }\r\n\r\n    // Get the last pipe and check if the distance of it is equal or greater than max width\r\n    if (this.distance <= this.width - this.pipes[pipeLen - 1].coordinate.x) {\r\n      this.initialXPos = this.width + Pipe.pipeSize.width;\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Would generate pipe with random Y position of mid point\r\n   * and with fixed size\r\n   */\r\n  public generate(): IPipeGeneratorValue {\r\n    return {\r\n      position: {\r\n        x: this.initialXPos,\r\n        y: randomClamp(this.range.min, this.range.max - this.range.min)\r\n      }\r\n    };\r\n  }\r\n\r\n  public Update(): void {\r\n    if (this.needPipe()) {\r\n      const pipe = new Pipe();\r\n\r\n      pipe.init();\r\n      pipe.use(this.pipeColor);\r\n\r\n      pipe.resize(this.canvasSize);\r\n\r\n      pipe.setHollPosition(this.generate().position);\r\n      this.pipes.push(pipe);\r\n    }\r\n\r\n    for (let index = 0; index < this.pipes.length; index++) {\r\n      this.pipes[index].Update();\r\n      if (this.pipes[index].isOut()) {\r\n        this.pipes.splice(index, 1);\r\n        index--;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { GAME_SPEED, PIPE_HOLL_SIZE, PIPE_INITIAL_DIMENSION } from '../constants';\r\nimport { rescaleDim } from '../utils';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport SceneGenerator from './scene-generator';\r\n\r\nexport interface IPipePairPosition {\r\n  top: ICoordinate;\r\n  bottom: ICoordinate;\r\n}\r\nexport interface IPipeScaled {\r\n  top: IDimension;\r\n  bottom: IDimension;\r\n}\r\n\r\nexport type IPipeColor = string;\r\nexport type IPipeRecords = Map<IPipeColor, HTMLImageElement>;\r\n\r\nexport default class Pipe extends ParentClass {\r\n  /**\r\n   *\r\n   * */\r\n  public static pipeSize: IDimension = {\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  private scaled: IPipeScaled;\r\n  public hollSize: number;\r\n  public pipePosition: IPipePairPosition;\r\n  public isPassed: boolean;\r\n\r\n  private images: IPipeRecords;\r\n  private color: IPipeColor;\r\n\r\n  constructor() {\r\n    super();\r\n    this.images = new Map<string, HTMLImageElement>();\r\n    this.color = 'green';\r\n    this.hollSize = 0;\r\n    this.pipePosition = {\r\n      top: { x: 0, y: 0 },\r\n      bottom: { x: 0, y: 0 }\r\n    };\r\n    this.isPassed = false;\r\n    this.velocity.x = GAME_SPEED;\r\n    this.scaled = {\r\n      top: { width: 0, height: 0 },\r\n      bottom: { width: 0, height: 0 }\r\n    };\r\n  }\r\n\r\n  public init(): void {\r\n    this.images.set('green.top', SpriteDestructor.asset('pipe-green-top'));\r\n    this.images.set('green.bottom', SpriteDestructor.asset('pipe-green-bottom'));\r\n    this.images.set('red.top', SpriteDestructor.asset('pipe-red-top'));\r\n    this.images.set('red.bottom', SpriteDestructor.asset('pipe-red-bottom'));\r\n\r\n    Object.assign(SceneGenerator.pipeColorList, ['red', 'green']);\r\n  }\r\n\r\n  /**\r\n   * Set holl position\r\n   * */\r\n  public setHollPosition(coordinate: ICoordinate): void {\r\n    // Positioning holl\r\n    this.hollSize = this.canvasSize.height * PIPE_HOLL_SIZE;\r\n\r\n    /**\r\n     * The Logic is\r\n     *\r\n     * Center Point = hollposition + (hollSize / 2)\r\n     * */\r\n    // From 0 to top boundary\r\n    this.coordinate = coordinate;\r\n  }\r\n\r\n  /**\r\n   * Resize the pipe based on screen size.\r\n   *\r\n   * To keep the to its position, during resizing event,\r\n   * we convert the current coordinates of holl position\r\n   * into percentages then save it. After that we can now\r\n   * set the new size of the screen.\r\n   *\r\n   * After everything is set convert the previously saved value\r\n   * of position of holl to back to the pixel with new dimensions.\r\n   *\r\n   * Set update the value of coordinate and we're good to go.\r\n   * */\r\n  public resize({ width, height }: IDimension): void {\r\n    // Save the coordinate of pipe holl before resizing the canvas sizes\r\n    const oldX = (this.coordinate.x / this.canvasSize.width) * 100;\r\n    const oldY = (this.coordinate.y / this.canvasSize.height) * 100;\r\n\r\n    super.resize({ width, height });\r\n\r\n    // Update Pipe Size\r\n    const min = this.canvasSize.width * 0.18;\r\n    Pipe.pipeSize = rescaleDim(PIPE_INITIAL_DIMENSION, { width: min });\r\n\r\n    // Resize holl size\r\n    this.hollSize = this.canvasSize.height * PIPE_HOLL_SIZE;\r\n\r\n    // Relocate the pipe holl\r\n    this.coordinate.x = width * (oldX / 100);\r\n    this.coordinate.y = height * (oldY / 100);\r\n\r\n    // Update velocity. Converting percentages to pixels\r\n    this.velocity.x = width * GAME_SPEED;\r\n\r\n    this.scaled.top = rescaleDim(\r\n      {\r\n        width: this.images.get(`${this.color}.top`)!.width,\r\n        height: this.images.get(`${this.color}.top`)!.height\r\n      },\r\n      { width: min }\r\n    );\r\n\r\n    this.scaled.bottom = rescaleDim(\r\n      {\r\n        width: this.images.get(`${this.color}.bottom`)!.width,\r\n        height: this.images.get(`${this.color}.bottom`)!.height\r\n      },\r\n      { width: min }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Check if the pipe is out of canvas.\r\n   * We're going to remove it to keep the game performance\r\n   * good enough\r\n   * */\r\n  public isOut(): boolean {\r\n    return this.coordinate.x + Pipe.pipeSize.width < 0;\r\n  }\r\n\r\n  /**\r\n   * Pipe color selection\r\n   * */\r\n  public use(select: IPipeColor): void {\r\n    this.color = select;\r\n  }\r\n\r\n  /**\r\n   * Pipe Update\r\n   * */\r\n  public Update(): void {\r\n    this.coordinate.x -= this.velocity.x;\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    const width = Pipe.pipeSize.width / 2;\r\n\r\n    const posX = this.coordinate.x;\r\n    const posY = this.coordinate.y;\r\n    const radius = this.hollSize / 2;\r\n\r\n    /**\r\n     * To draw off canvas, subtract the height of pipe to holl position.\r\n     * The result should be the height of pipe that we don't need or out of canvas\r\n     * Then pass the result to the function height parameter as negative value.\r\n     *\r\n     * And thats it for the top pipe\r\n     * */\r\n\r\n    context.drawImage(\r\n      this.images.get(`${this.color}.top`)!,\r\n      posX - width,\r\n      -(this.scaled.top.height - Math.abs(posY - radius)),\r\n      this.scaled.top.width,\r\n      this.scaled.top.height\r\n    );\r\n\r\n    context.drawImage(\r\n      this.images.get(`${this.color}.bottom`)!,\r\n      posX - width,\r\n      posY + radius,\r\n      this.scaled.bottom.width,\r\n      this.scaled.bottom.height\r\n    );\r\n  }\r\n}\r\n","import { rescaleDim } from '../utils';\r\n\r\nimport { GAME_SPEED } from '../constants';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\n\r\nexport default class Platform extends ParentClass {\r\n  public platformSize: IDimension;\r\n  private img: undefined | HTMLImageElement;\r\n\r\n  constructor() {\r\n    super();\r\n    this.velocity.x = GAME_SPEED;\r\n    this.platformSize = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.img = void 0;\r\n  }\r\n\r\n  public init() {\r\n    this.img = SpriteDestructor.asset('platform');\r\n  }\r\n\r\n  public reset(): void {\r\n    this.coordinate = { x: 0, y: 0 };\r\n    this.resize(this.canvasSize);\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.platformSize = rescaleDim(\r\n      {\r\n        width: this.img!.width,\r\n        height: this.img!.height\r\n      },\r\n      { height: height / 4 }\r\n    );\r\n\r\n    this.coordinate.y = height - this.platformSize.height;\r\n  }\r\n\r\n  public Update() {\r\n    /**\r\n     * We use linear interpolation instead of by pixel to move the object.\r\n     * It is to keep the speed same in different Screen Sizes & Screen DPI\r\n     * */\r\n    this.coordinate.x += this.canvasSize.width * this.velocity.x;\r\n    this.coordinate.y += this.velocity.y;\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D) {\r\n    /**\r\n     * Similar to the background but drawing the image into bottom of screen\r\n     * */\r\n    const { width, height } = this.platformSize;\r\n    const { x, y } = this.coordinate;\r\n    const sequence = Math.ceil(this.canvasSize.width / width) + 1;\r\n    const offset = x % width;\r\n\r\n    for (let i = 0; i < sequence; i++) {\r\n      context.drawImage(this.img!, i * (width - i) - offset, y, width, height);\r\n    }\r\n  }\r\n}\r\n","import { randomClamp } from '../utils';\r\nimport { ITheme } from './background';\r\nimport { IBirdColor } from './bird';\r\nimport { IPipeColor } from './pipe';\r\n\r\nexport default class SceneGenerator {\r\n  public static birdColorList: IBirdColor[] = [];\r\n  public static bgThemeList: ITheme[] = [];\r\n  public static pipeColorList: IPipeColor[] = [];\r\n  private static isNight = false;\r\n\r\n  public static get background(): ITheme {\r\n    if (SceneGenerator.bgThemeList.length < 1) throw new Error('No theme available');\r\n\r\n    const t =\r\n      SceneGenerator.bgThemeList[randomClamp(0, SceneGenerator.bgThemeList.length)];\r\n    SceneGenerator.isNight = t === 'night';\r\n    return t;\r\n  }\r\n\r\n  public static get bird(): IBirdColor {\r\n    if (SceneGenerator.birdColorList.length < 1)\r\n      throw new Error('No available bird color');\r\n\r\n    return SceneGenerator.birdColorList[\r\n      randomClamp(0, SceneGenerator.birdColorList.length)\r\n    ];\r\n  }\r\n\r\n  public static get pipe(): IPipeColor {\r\n    if (SceneGenerator.pipeColorList.length < 1)\r\n      throw new Error('No available pipe color');\r\n\r\n    if (SceneGenerator.isNight) {\r\n      return SceneGenerator.pipeColorList[\r\n        randomClamp(0, SceneGenerator.pipeColorList.length)\r\n      ];\r\n    }\r\n\r\n    return 'green' as IPipeColor;\r\n  }\r\n}\r\n","import { rescaleDim } from '../utils';\r\n\r\nimport ParentObject from '../abstracts/parent-class';\r\nimport SparkModel from './spark';\r\nimport PlayButton from './btn-play';\r\nimport RankingButton from './btn-ranking';\r\nimport ToggleSpeaker from './btn-toggle-speaker';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport { Fly, BounceIn, TimingEvent } from '../lib/animation';\r\nimport Storage from '../lib/storage';\r\n\r\nexport default class ScoreBoard extends ParentObject {\r\n  private static readonly FLAG_SHOW_BANNER = 0b0001;\r\n  private static readonly FLAG_SHOW_SCOREBOARD = 0b0010;\r\n  private static readonly FLAG_SHOW_BUTTONS = 0b0100;\r\n  private static readonly FLAG_NEW_HIGH_SCORE = 0b1000;\r\n\r\n  private flags: number;\r\n\r\n  private images: Map<string, HTMLImageElement>;\r\n  private playButton: PlayButton;\r\n  private rankingButton: RankingButton;\r\n  private toggleSpeakerButton: ToggleSpeaker;\r\n  private FlyInAnim: Fly;\r\n  private BounceInAnim: BounceIn;\r\n  private currentScore: number;\r\n  private currentGeneratedNumber: number;\r\n  private currentHighScore: number;\r\n  private TimingEventAnim: TimingEvent;\r\n  private spark: SparkModel;\r\n\r\n  constructor() {\r\n    super();\r\n    this.flags = 0;\r\n    this.images = new Map<string, HTMLImageElement>();\r\n    this.playButton = new PlayButton();\r\n    this.rankingButton = new RankingButton();\r\n    this.toggleSpeakerButton = new ToggleSpeaker();\r\n    this.spark = new SparkModel();\r\n    this.currentHighScore = 0;\r\n    this.currentGeneratedNumber = 0;\r\n    this.currentScore = 0;\r\n    this.FlyInAnim = new Fly({\r\n      duration: 500,\r\n      from: {\r\n        x: 0.5,\r\n        y: 1.5\r\n      },\r\n      to: {\r\n        x: 0.5,\r\n        y: 0.438\r\n      },\r\n      transition: 'easeOutExpo'\r\n    });\r\n    this.TimingEventAnim = new TimingEvent({ diff: 30 });\r\n    this.BounceInAnim = new BounceIn({\r\n      durations: {\r\n        bounce: 300,\r\n        fading: 100\r\n      }\r\n    });\r\n  }\r\n\r\n  public init(): void {\r\n    this.images.set('banner-gameover', SpriteDestructor.asset('banner-game-over'));\r\n    this.images.set('score-board', SpriteDestructor.asset('score-board'));\r\n    this.images.set('coin-10', SpriteDestructor.asset('coin-dull-bronze'));\r\n    this.images.set('coin-20', SpriteDestructor.asset('coin-dull-metal'));\r\n    this.images.set('coin-30', SpriteDestructor.asset('coin-shine-gold'));\r\n    this.images.set('coin-40', SpriteDestructor.asset('coin-shine-silver'));\r\n    this.images.set('new-icon', SpriteDestructor.asset('toast-new'));\r\n\r\n    for (let i = 0; i < 10; ++i) {\r\n      this.images.set(`number-${i}`, SpriteDestructor.asset(`number-md-${i}`));\r\n    }\r\n\r\n    this.rankingButton.init();\r\n    this.playButton.init();\r\n    this.toggleSpeakerButton.init();\r\n\r\n    this.playButton.active = false;\r\n    this.rankingButton.active = false;\r\n    this.toggleSpeakerButton.active = false;\r\n    this.spark.init();\r\n\r\n    /**\r\n     * We need to make sure about this\r\n     * else may throw any error during\r\n     * image retrieval\r\n     * */\r\n    const prevScore = Storage.get('highscore') as number;\r\n    this.currentHighScore = typeof prevScore === 'number' ? prevScore : 0;\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.rankingButton.resize(this.canvasSize);\r\n    this.playButton.resize(this.canvasSize);\r\n    this.spark.resize(this.canvasSize);\r\n    this.toggleSpeakerButton.resize(this.canvasSize);\r\n  }\r\n\r\n  public Update(): void {\r\n    this.rankingButton.Update();\r\n    this.playButton.Update();\r\n    this.spark.Update();\r\n    this.toggleSpeakerButton.Update();\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    if ((this.flags & ScoreBoard.FLAG_SHOW_BANNER) !== 0) {\r\n      const bgoScaled = rescaleDim(\r\n        {\r\n          width: this.images.get('banner-gameover')!.width,\r\n          height: this.images.get('banner-gameover')!.height\r\n        },\r\n        { width: this.canvasSize.width * 0.7 }\r\n      );\r\n      const anim = this.BounceInAnim.value;\r\n      const yPos = this.canvasSize.height * 0.225 - bgoScaled.height / 2;\r\n\r\n      context.globalAlpha = anim.opacity;\r\n      context.drawImage(\r\n        this.images.get('banner-gameover')!,\r\n        this.canvasSize.width * 0.5 - bgoScaled.width / 2,\r\n        yPos + anim.value * (this.canvasSize.height * 0.015),\r\n        bgoScaled.width,\r\n        bgoScaled.height\r\n      );\r\n      context.globalAlpha = 1;\r\n    }\r\n\r\n    if ((this.flags & ScoreBoard.FLAG_SHOW_SCOREBOARD) !== 0) {\r\n      const sbScaled = rescaleDim(\r\n        {\r\n          width: this.images.get('score-board')!.width,\r\n          height: this.images.get('score-board')!.height\r\n        },\r\n        { width: this.canvasSize.width * 0.85 }\r\n      );\r\n\r\n      // Need to clone\r\n      const anim = Object.assign({}, this.FlyInAnim.value);\r\n      anim.x = this.canvasSize.width * anim.x - sbScaled.width / 2;\r\n      anim.y = this.canvasSize.height * anim.y - sbScaled.height / 2;\r\n\r\n      context.drawImage(\r\n        this.images.get('score-board')!,\r\n        anim.x,\r\n        anim.y,\r\n        sbScaled.width,\r\n        sbScaled.height\r\n      );\r\n\r\n      if (this.TimingEventAnim.value && this.currentScore > this.currentGeneratedNumber) {\r\n        this.currentGeneratedNumber++;\r\n      }\r\n\r\n      /**\r\n       * Only show the buttons, medal, Update high score if possible\r\n       * and 'new' icon after counting\r\n       * */\r\n      if (this.TimingEventAnim.status.complete && !this.TimingEventAnim.status.running) {\r\n        if (this.currentGeneratedNumber > this.currentHighScore) {\r\n          this.setHighScore(this.currentGeneratedNumber);\r\n          this.flags |= ScoreBoard.FLAG_NEW_HIGH_SCORE;\r\n        }\r\n\r\n        this.addMedal(context, anim, sbScaled);\r\n        this.showButtons();\r\n      }\r\n\r\n      this.displayScore(context, anim, sbScaled);\r\n      this.displayBestScore(\r\n        context,\r\n        anim,\r\n        sbScaled,\r\n        (this.flags & ScoreBoard.FLAG_NEW_HIGH_SCORE) !== 0\r\n      );\r\n\r\n      if (this.FlyInAnim.status.complete && !this.FlyInAnim.status.running) {\r\n        this.TimingEventAnim.start();\r\n\r\n        if (this.currentGeneratedNumber === this.currentScore) {\r\n          this.TimingEventAnim.stop();\r\n        }\r\n      }\r\n    }\r\n\r\n    if ((this.flags & ScoreBoard.FLAG_SHOW_BUTTONS) !== 0) {\r\n      this.rankingButton.Display(context);\r\n      this.playButton.Display(context);\r\n      this.toggleSpeakerButton.Display(context);\r\n    }\r\n  }\r\n\r\n  public showBanner(): void {\r\n    this.flags |= ScoreBoard.FLAG_SHOW_BANNER;\r\n    this.BounceInAnim.start();\r\n  }\r\n\r\n  public showBoard(): void {\r\n    this.flags |= ScoreBoard.FLAG_SHOW_SCOREBOARD;\r\n    this.FlyInAnim.start();\r\n    this.spark.doSpark();\r\n  }\r\n\r\n  public showButtons(): void {\r\n    this.flags |= ScoreBoard.FLAG_SHOW_BUTTONS;\r\n    this.playButton.active = true;\r\n    this.rankingButton.active = true;\r\n    this.toggleSpeakerButton.active = true;\r\n  }\r\n\r\n  private setHighScore(num: number): void {\r\n    Storage.save('highscore', num);\r\n    this.currentHighScore = num;\r\n  }\r\n\r\n  public setScore(num: number): void {\r\n    this.currentScore = num;\r\n  }\r\n\r\n  private addMedal(\r\n    context: CanvasRenderingContext2D,\r\n    coord: ICoordinate,\r\n    parentSize: IDimension\r\n  ): void {\r\n    if (this.currentScore < 10) return; // So sad having a no medal :)\r\n    let medal: HTMLImageElement | undefined;\r\n\r\n    if (this.currentScore >= 10 && this.currentScore < 20) {\r\n      medal = this.images.get('coin-10');\r\n    } else if (this.currentScore >= 20 && this.currentScore < 30) {\r\n      medal = this.images.get('coin-20');\r\n    } else {\r\n      if (Math.floor(this.currentScore / 10) % 2 === 0) {\r\n        medal = this.images.get('coin-40');\r\n      } else {\r\n        medal = this.images.get('coin-30');\r\n      }\r\n    }\r\n\r\n    const scaled = rescaleDim(\r\n      {\r\n        width: medal!.width,\r\n        height: medal!.height\r\n      },\r\n      { width: parentSize.width * 0.1878 }\r\n    );\r\n    const pos = {\r\n      x: (coord.x + parentSize.width / 2) * 0.36,\r\n      y: (coord.y + parentSize.height / 2) * 0.9196\r\n    };\r\n\r\n    context.drawImage(medal!, pos.x, pos.y, scaled.width, scaled.height);\r\n\r\n    this.spark.move(pos, scaled);\r\n    this.spark.Display(context);\r\n  }\r\n\r\n  private displayScore(\r\n    context: CanvasRenderingContext2D,\r\n    coord: ICoordinate,\r\n    parentSize: IDimension\r\n  ): void {\r\n    const numSize = rescaleDim(\r\n      {\r\n        width: this.images.get('number-1')!.width,\r\n        height: this.images.get('number-1')!.height\r\n      },\r\n      { width: parentSize.width * 0.05 }\r\n    );\r\n\r\n    coord = Object.assign({}, coord);\r\n    coord.x = (coord.x + parentSize.width / 2) * 1.565;\r\n    coord.y = (coord.y + parentSize.height / 2) * 0.864;\r\n\r\n    const numArr: string[] = String(this.currentGeneratedNumber).split('');\r\n\r\n    numArr.reverse().forEach((c: string, index: number) => {\r\n      context.drawImage(\r\n        this.images.get(`number-${c}`)!,\r\n        coord.x - index * (numSize.width + 5),\r\n        coord.y,\r\n        numSize.width,\r\n        numSize.height\r\n      );\r\n    });\r\n  }\r\n\r\n  private displayBestScore(\r\n    context: CanvasRenderingContext2D,\r\n    coord: ICoordinate,\r\n    parentSize: IDimension,\r\n    _p0: boolean\r\n  ): void {\r\n    const numSize = rescaleDim(\r\n      {\r\n        width: this.images.get('number-1')!.width,\r\n        height: this.images.get('number-1')!.height\r\n      },\r\n      { width: parentSize.width * 0.05 }\r\n    );\r\n\r\n    coord = Object.assign({}, coord);\r\n\r\n    coord.x = (coord.x + parentSize.width / 2) * 1.565;\r\n    coord.y = (coord.y + parentSize.height / 2) * 1.074;\r\n\r\n    const numArr: string[] = String(this.currentHighScore).split('');\r\n\r\n    numArr.reverse().forEach((c: string, index: number) => {\r\n      context.drawImage(\r\n        this.images.get(`number-${c}`)!,\r\n        coord.x - index * (numSize.width + 5),\r\n        coord.y,\r\n        numSize.width,\r\n        numSize.height\r\n      );\r\n    });\r\n\r\n    if ((this.flags & ScoreBoard.FLAG_NEW_HIGH_SCORE) === 0) return;\r\n\r\n    const toastSize = rescaleDim(\r\n      {\r\n        width: this.images.get('new-icon')!.width,\r\n        height: this.images.get('new-icon')!.height\r\n      },\r\n      { width: parentSize.width * 0.14 }\r\n    );\r\n\r\n    context.drawImage(\r\n      this.images.get('new-icon')!,\r\n      coord.x * 0.73,\r\n      coord.y * 0.922,\r\n      toastSize.width,\r\n      toastSize.height\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Hide all at once\r\n   * */\r\n  public hide(): void {\r\n    this.flags = 0;\r\n\r\n    this.playButton.active = false;\r\n    this.rankingButton.active = false;\r\n    this.toggleSpeakerButton.active = false;\r\n    this.currentGeneratedNumber = 0;\r\n    this.FlyInAnim.reset();\r\n    this.BounceInAnim.reset();\r\n    this.TimingEventAnim.reset();\r\n    this.spark.stop();\r\n  }\r\n\r\n  public onRestart(cb: IEmptyFunction): void {\r\n    this.playButton.onClick(cb);\r\n  }\r\n\r\n  public onShowRanks(_cb: IEmptyFunction): void {\r\n    /**\r\n     * I don't know what to do on ranking?\r\n     *\r\n     * Should i create API for this?\r\n     * */\r\n  }\r\n\r\n  public mouseDown({ x, y }: ICoordinate): void {\r\n    this.playButton.mouseEvent('down', { x, y });\r\n    this.rankingButton.mouseEvent('down', { x, y });\r\n    this.toggleSpeakerButton.mouseEvent('down', { x, y });\r\n  }\r\n\r\n  public mouseUp({ x, y }: ICoordinate): void {\r\n    this.playButton.mouseEvent('up', { x, y });\r\n    this.rankingButton.mouseEvent('up', { x, y });\r\n    this.toggleSpeakerButton.mouseEvent('up', { x, y });\r\n  }\r\n\r\n  public triggerPlayATKeyboardEvent(): void {\r\n    if ((this.flags & ScoreBoard.FLAG_SHOW_BUTTONS) !== 0) this.playButton.click();\r\n  }\r\n}\r\n","import WebSfx from '../lib/web-sfx';\r\nimport sfDie from '../assets/audio/die.ogg';\r\nimport sfHit from '../assets/audio/hit.ogg';\r\nimport sfPoint from '../assets/audio/point.ogg';\r\nimport sfSwoosh from '../assets/audio/swooshing.ogg';\r\nimport sfWing from '../assets/audio/wing.ogg';\r\n\r\nexport default class Sfx {\r\n  public static currentVolume = 1;\r\n\r\n  public static async init() {\r\n    await WebSfx.init();\r\n  }\r\n\r\n  public static volume(num: number): void {\r\n    Sfx.currentVolume = num;\r\n  }\r\n\r\n  public static die(): void {\r\n    WebSfx.volume(Sfx.currentVolume);\r\n    WebSfx.play(sfDie);\r\n  }\r\n\r\n  public static point(): void {\r\n    WebSfx.volume(Sfx.currentVolume);\r\n    WebSfx.play(sfPoint);\r\n  }\r\n\r\n  public static hit(cb: IEmptyFunction): void {\r\n    WebSfx.volume(Sfx.currentVolume);\r\n    WebSfx.play(sfHit, cb);\r\n  }\r\n\r\n  public static swoosh(): void {\r\n    WebSfx.volume(Sfx.currentVolume);\r\n    WebSfx.play(sfSwoosh);\r\n  }\r\n\r\n  public static wing(): void {\r\n    WebSfx.volume(Sfx.currentVolume);\r\n    WebSfx.play(sfWing);\r\n  }\r\n}\r\n","import ParentClass from '../abstracts/parent-class';\r\nimport { rescaleDim, randomClamp } from '../utils';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport { TimingEvent } from '../lib/animation';\r\n\r\nexport default class Spark extends ParentClass {\r\n  private images: Map<string, HTMLImageElement>;\r\n  private scaled: IDimension;\r\n  private status: string;\r\n  private timingEvent: TimingEvent;\r\n  private sparkList: string[];\r\n  private currentSparkIndex: number;\r\n  private dimension: IDimension;\r\n  private target: ICoordinate;\r\n\r\n  constructor() {\r\n    super();\r\n    this.images = new Map<string, HTMLImageElement>();\r\n    this.timingEvent = new TimingEvent({\r\n      diff: 200\r\n    });\r\n    this.scaled = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.dimension = {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    this.target = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.status = 'stopped';\r\n    this.sparkList = [];\r\n    this.currentSparkIndex = 0;\r\n  }\r\n\r\n  public init(): void {\r\n    this.images.set('spark-sm', SpriteDestructor.asset('spark-sm'));\r\n    this.images.set('spark-md', SpriteDestructor.asset('spark-md'));\r\n    this.images.set('spark-lg', SpriteDestructor.asset('spark-lg'));\r\n    this.sparkList = ['spark-sm', 'spark-md', 'spark-lg', 'spark-md', 'spark-sm'];\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.scaled = rescaleDim(\r\n      {\r\n        width: this.images.get('spark-lg')!.width,\r\n        height: this.images.get('spark-lg')!.height\r\n      },\r\n      { width: width * 0.03 }\r\n    );\r\n  }\r\n\r\n  public doSpark(): void {\r\n    if (this.status === 'running') return;\r\n    this.status = 'running';\r\n    this.timingEvent.start();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.status = 'stopped';\r\n    this.timingEvent.reset();\r\n  }\r\n\r\n  private relocate(): void {\r\n    this.target.x = randomClamp(\r\n      this.coordinate.x,\r\n      this.coordinate.x + this.dimension.width\r\n    );\r\n    this.target.y = randomClamp(\r\n      this.coordinate.y,\r\n      this.coordinate.y + this.dimension.height\r\n    );\r\n  }\r\n\r\n  public move({ x, y }: ICoordinate, dimension: IDimension): void {\r\n    this.coordinate = { x, y };\r\n    this.dimension = dimension;\r\n  }\r\n\r\n  public Update(): void {\r\n    if (this.status === 'stopped') return;\r\n\r\n    if (this.timingEvent.value) {\r\n      if (this.currentSparkIndex > this.sparkList.length - 2) {\r\n        this.currentSparkIndex = 0;\r\n        this.relocate();\r\n      } else {\r\n        this.currentSparkIndex++;\r\n      }\r\n    }\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    if (this.status === 'stopped') return;\r\n    context.drawImage(\r\n      this.images.get(this.sparkList[this.currentSparkIndex])!,\r\n      Math.abs(this.target.x - this.scaled.width / 2),\r\n      Math.abs(this.target.y - this.scaled.height / 2),\r\n      this.scaled.width,\r\n      this.scaled.height\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Display \"Get Ready\" & \"Instruction\"\r\n * Let the bird swing while waiting...\r\n * No Pipes\r\n * Wait for the tap event\r\n * */\r\n\r\nimport BannerInstruction from '../model/banner-instruction';\r\nimport BirdModel from '../model/bird';\r\nimport CounterModel from '../model/count';\r\nimport FlashScreen from '../model/flash-screen';\r\nimport { IScreenChangerObject } from '../lib/screen-changer';\r\nimport MainGameController from '../game';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport PipeGenerator from '../model/pipe-generator';\r\nimport ScoreBoard from '../model/score-board';\r\nimport Sfx from '../model/sfx';\r\n\r\nexport type IGameState = 'died' | 'playing' | 'none';\r\nexport default class GetReady extends ParentClass implements IScreenChangerObject {\r\n  private bird: BirdModel;\r\n  private pipeGenerator: PipeGenerator;\r\n  private state: string;\r\n  private gameState: IGameState;\r\n  private count: CounterModel;\r\n  private game: MainGameController;\r\n  private bannerInstruction: BannerInstruction;\r\n  private scoreBoard: ScoreBoard;\r\n  private transition: FlashScreen;\r\n  private hideBird: boolean;\r\n  private flashScreen: FlashScreen;\r\n  private showScoreBoard: boolean;\r\n\r\n  constructor(game: MainGameController) {\r\n    super();\r\n    this.state = 'waiting';\r\n    this.bird = new BirdModel();\r\n    this.count = new CounterModel();\r\n    this.game = game;\r\n    this.pipeGenerator = this.game.pipeGenerator;\r\n    this.bannerInstruction = new BannerInstruction();\r\n    this.gameState = 'none';\r\n    this.scoreBoard = new ScoreBoard();\r\n    this.transition = new FlashScreen({\r\n      interval: 500,\r\n      strong: 1.0,\r\n      style: 'black',\r\n      easing: 'sineWaveHS'\r\n    });\r\n    this.flashScreen = new FlashScreen({\r\n      style: 'white',\r\n      interval: 180,\r\n      strong: 0.7,\r\n      easing: 'linear'\r\n    });\r\n    this.hideBird = false;\r\n    this.showScoreBoard = false;\r\n\r\n    this.transition.setEvent([0.99, 1], this.reset.bind(this));\r\n  }\r\n\r\n  public init(): void {\r\n    this.bird.init();\r\n    this.count.init();\r\n    this.bannerInstruction.init();\r\n    this.scoreBoard.init();\r\n    this.setButtonEvent();\r\n    this.flashScreen.init();\r\n    this.transition.init();\r\n  }\r\n\r\n  public reset(): void {\r\n    this.gameState = 'none';\r\n    this.state = 'waiting';\r\n    this.game.background.reset();\r\n    this.game.platform.reset();\r\n    this.pipeGenerator.reset();\r\n    this.bannerInstruction.reset();\r\n    this.game.bgPause = false;\r\n    this.hideBird = false;\r\n    this.showScoreBoard = false;\r\n    this.scoreBoard.hide();\r\n    this.bird.reset();\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n\r\n    this.bird.resize(this.canvasSize);\r\n    this.count.resize(this.canvasSize);\r\n    this.bannerInstruction.resize(this.canvasSize);\r\n    this.scoreBoard.resize(this.canvasSize);\r\n    this.flashScreen.resize(this.canvasSize);\r\n    this.transition.resize(this.canvasSize);\r\n  }\r\n\r\n  public Update(): void {\r\n    this.flashScreen.Update();\r\n    this.transition.Update();\r\n    this.scoreBoard.Update();\r\n\r\n    if (!this.bird.alive) {\r\n      this.game.bgPause = true;\r\n      this.bird.Update();\r\n      return;\r\n    }\r\n\r\n    if (this.state === 'waiting') {\r\n      this.bird.doWave(\r\n        {\r\n          x: this.bird.coordinate.x,\r\n          y: this.canvasSize.height * 0.48\r\n        },\r\n        1,\r\n        6\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.bannerInstruction.Update();\r\n    this.pipeGenerator.Update();\r\n    this.bird.Update();\r\n\r\n    if (this.bird.isDead(this.pipeGenerator.pipes)) {\r\n      this.flashScreen.reset();\r\n      this.flashScreen.start();\r\n\r\n      this.gameState = 'died';\r\n\r\n      window.setTimeout(() => {\r\n        this.scoreBoard.setScore(this.bird.score);\r\n        this.showScoreBoard = true;\r\n        window.setTimeout(() => {\r\n          this.scoreBoard.showBoard();\r\n          Sfx.swoosh();\r\n        }, 700);\r\n        this.scoreBoard.showBanner();\r\n        Sfx.swoosh();\r\n      }, 500);\r\n\r\n      Sfx.hit(() => {\r\n        this.bird.playDead();\r\n      });\r\n    }\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    if (this.state === 'playing' || this.state === 'waiting') {\r\n      this.bannerInstruction.Display(context);\r\n\r\n      if (this.gameState !== 'died' || !this.showScoreBoard) {\r\n        this.count.setNum(this.bird.score);\r\n        this.count.Display(context);\r\n      }\r\n\r\n      if (!this.hideBird) this.bird.Display(context);\r\n\r\n      this.scoreBoard.Display(context);\r\n    }\r\n\r\n    this.flashScreen.Display(context);\r\n    this.transition.Display(context);\r\n  }\r\n\r\n  private setButtonEvent(): void {\r\n    this.scoreBoard.onRestart(() => {\r\n      if (this.transition.status.running) return;\r\n      this.transition.reset();\r\n      this.transition.start();\r\n    });\r\n\r\n    // this.scoreBoard.onShowRanks(() => {\r\n    //   console.log(\"ranking button\")\r\n    // })\r\n  }\r\n\r\n  public click({ x, y }: ICoordinate): void {\r\n    if (this.gameState === 'died') return;\r\n\r\n    this.state = 'playing';\r\n    this.gameState = 'playing';\r\n    this.bannerInstruction.tap();\r\n    this.bird.flap();\r\n  }\r\n\r\n  public mouseDown({ x, y }: ICoordinate): void {\r\n    if (this.gameState !== 'died') return;\r\n\r\n    this.scoreBoard.mouseDown({ x, y });\r\n  }\r\n\r\n  public mouseUp({ x, y }: ICoordinate): void {\r\n    if (this.gameState !== 'died') return;\r\n\r\n    this.scoreBoard.mouseUp({ x, y });\r\n  }\r\n  public startAtKeyBoardEvent(): void {\r\n    if (this.gameState === 'died') this.scoreBoard.triggerPlayATKeyboardEvent();\r\n  }\r\n}\r\n","/**\r\n * Display \"FlappyBird\"\r\n * Display the bird close to the middle and at the center\r\n *\r\n * Display \"Play\", \"Rate\" buttons and maybe include the\r\n * \"Ranking\" button but with no function. Just to mimic the\r\n * original game since ranking only works if the game is\r\n * connected to Google Play Games or Apple Game Center\r\n * */\r\n\r\nimport { rescaleDim } from '../utils';\r\n\r\nimport BirdModel from '../model/bird';\r\nimport { IScreenChangerObject } from '../lib/screen-changer';\r\nimport ParentClass from '../abstracts/parent-class';\r\nimport PlayButton from '../model/btn-play';\r\nimport RankingButton from '../model/btn-ranking';\r\nimport RateButton from '../model/btn-rate';\r\nimport ToggleSpeaker from '../model/btn-toggle-speaker';\r\nimport SpriteDestructor from '../lib/sprite-destructor';\r\nimport { APP_VERSION } from '../constants';\r\n\r\nexport default class Introduction extends ParentClass implements IScreenChangerObject {\r\n  public playButton: PlayButton;\r\n  public rankingButton: RankingButton;\r\n  public rateButton: RateButton;\r\n  public toggleSpeakerButton: ToggleSpeaker;\r\n\r\n  private bird: BirdModel;\r\n  private flappyBirdBanner: HTMLImageElement | undefined;\r\n  private copyright: HTMLImageElement | undefined;\r\n\r\n  constructor() {\r\n    super();\r\n    this.bird = new BirdModel();\r\n    this.playButton = new PlayButton();\r\n    this.rankingButton = new RankingButton();\r\n    this.rateButton = new RateButton();\r\n    this.toggleSpeakerButton = new ToggleSpeaker();\r\n    this.flappyBirdBanner = void 0;\r\n    this.copyright = void 0;\r\n  }\r\n\r\n  public init(): void {\r\n    this.bird.init();\r\n    this.playButton.init();\r\n    this.rankingButton.init();\r\n    this.rateButton.init();\r\n    this.toggleSpeakerButton.init();\r\n    this.flappyBirdBanner = SpriteDestructor.asset('banner-flappybird');\r\n    this.copyright = SpriteDestructor.asset('copyright');\r\n  }\r\n\r\n  public resize({ width, height }: IDimension): void {\r\n    super.resize({ width, height });\r\n    this.bird.resize({ width, height });\r\n    this.playButton.resize({ width, height });\r\n    this.rankingButton.resize({ width, height });\r\n    this.rateButton.resize({ width, height });\r\n    this.toggleSpeakerButton.resize({ width, height });\r\n  }\r\n\r\n  public Update(): void {\r\n    this.bird.doWave(\r\n      {\r\n        x: this.canvasSize.width * 0.5,\r\n        y: this.canvasSize.height * 0.4\r\n      },\r\n      1.4,\r\n      9\r\n    );\r\n\r\n    this.playButton.Update();\r\n    this.rankingButton.Update();\r\n    this.rateButton.Update();\r\n    this.toggleSpeakerButton.Update();\r\n  }\r\n\r\n  public Display(context: CanvasRenderingContext2D): void {\r\n    this.toggleSpeakerButton.Display(context);\r\n    this.playButton.Display(context);\r\n    this.rankingButton.Display(context);\r\n    this.rateButton.Display(context);\r\n    this.bird.Display(context);\r\n\r\n    // Flappy Bird Banner\r\n    const fbbScaled = rescaleDim(\r\n      {\r\n        width: this.flappyBirdBanner!.width,\r\n        height: this.flappyBirdBanner!.height\r\n      },\r\n      { width: this.canvasSize.width * 0.67 }\r\n    );\r\n\r\n    context.drawImage(\r\n      this.flappyBirdBanner!,\r\n      this.canvasSize.width * 0.5 - fbbScaled.width / 2,\r\n      this.canvasSize.height * 0.28 - fbbScaled.height / 2,\r\n      fbbScaled.width,\r\n      fbbScaled.height\r\n    );\r\n    // ----------------------------------\r\n\r\n    // Copyright\r\n    const crScaled = rescaleDim(\r\n      {\r\n        width: this.copyright!.width,\r\n        height: this.copyright!.height\r\n      },\r\n      { width: this.canvasSize.width * 0.44 }\r\n    );\r\n\r\n    context.drawImage(\r\n      this.copyright!,\r\n      this.canvasSize.width * 0.5 - crScaled.width / 2,\r\n      this.canvasSize.height * 0.806 - crScaled.height / 2,\r\n      crScaled.width,\r\n      crScaled.height\r\n    );\r\n    // ----------------------------------\r\n\r\n    this.insertAppVersion(context);\r\n  }\r\n\r\n  private insertAppVersion(context: CanvasRenderingContext2D): void {\r\n    const fSize = this.canvasSize.width * 0.04;\r\n    const bot = this.canvasSize.height * 0.985;\r\n    const right = this.canvasSize.width * 0.985;\r\n\r\n    context.font = `bold ${fSize}px monospace`;\r\n    context.textAlign = 'center';\r\n    context.fillStyle = '#8E8E93';\r\n    context.fillText(`v${APP_VERSION}`, right - 2 * fSize, bot);\r\n\r\n    // context.strokeStyle = 'black';\r\n    // context.strokeText(`v${APP_VERSION}`, right - 2 * fSize, bot);\r\n  }\r\n\r\n  public mouseDown({ x, y }: ICoordinate): void {\r\n    this.toggleSpeakerButton.mouseEvent('down', { x, y });\r\n    this.playButton.mouseEvent('down', { x, y });\r\n    this.rankingButton.mouseEvent('down', { x, y });\r\n    this.rateButton.mouseEvent('down', { x, y });\r\n  }\r\n\r\n  public mouseUp({ x, y }: ICoordinate): void {\r\n    this.toggleSpeakerButton.mouseEvent('up', { x, y });\r\n    this.playButton.mouseEvent('up', { x, y });\r\n    this.rankingButton.mouseEvent('up', { x, y });\r\n    this.rateButton.mouseEvent('up', { x, y });\r\n  }\r\n\r\n  public startAtKeyBoardEvent(): void {\r\n    this.playButton.click();\r\n  }\r\n}\r\n","/**\r\n * A clamping functions that checks the last parameter if is equal\r\n * or in between of min and max number from first and second parameter\r\n *\r\n * @param min - Minimum number\r\n * @param max - Maximum number\r\n * @param value - A number value to clamp\r\n */\r\nexport const clamp = (min: number, max: number, value: number): number => {\r\n  return Math.max(Math.min(value, max), min);\r\n};\r\n","/**\r\n * Flip the range. Min becomes max and max becomes min\r\n * */\r\nexport const flipRange = (min: number, max: number, value: number): number => {\r\n  return max - (value - min);\r\n};\r\n","import framer from '../lib/stats';\r\n\r\nexport { framer };\r\n","export * from './rescale-dim';\r\nexport * from './framer';\r\nexport * from './linear-interpolation';\r\nexport * from './clamp';\r\nexport * from './random-clamp';\r\nexport * from './waves';\r\nexport * from './flip-range';\r\nexport * from './open-in-new-tab';\r\n","export const lerp = (a: number, b: number, t: number): number => {\r\n  return a + (b - a) * t;\r\n};\r\n","// https://stackoverflow.com/a/28374344\r\nexport const openInNewTab = (href: string): void => {\r\n  Object.assign(document.createElement('a'), {\r\n    target: '_blank',\r\n    rel: 'noopener noreferrer',\r\n    href: href\r\n  }).click();\r\n};\r\n","/**\r\n * A clamping function that accepts two parameters (min, max) and\r\n * returns a random number in between.\r\n *\r\n * @param min Minimum Number\r\n * @param max Max Number\r\n * @returns Random Number between min and max\r\n */\r\n\r\nexport const randomClamp = (min: number, max: number): number => {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n};\r\n","/**\r\n * A function that automatically rescale the given dimension and\r\n * returns new scaled dimension.\r\n *\r\n * @param oldDim - Initial {width, height} dimension.\r\n * @param newDim - New Dimension to match width. Its either { width } or { height } but cannot both.\r\n */\r\nexport type IRescaleDim = { width: number } | { height: number };\r\n\r\nexport const rescaleDim = (oldDim: IDimension, newDim: IRescaleDim): IDimension => {\r\n  const filledDim: IDimension = {\r\n    width: 0,\r\n    height: 0\r\n  };\r\n\r\n  if ('width' in newDim) {\r\n    filledDim.width = newDim.width;\r\n    filledDim.height = (oldDim.height / oldDim.width) * newDim.width;\r\n  } else if ('height' in newDim) {\r\n    filledDim.height = newDim.height;\r\n    filledDim.width = (oldDim.width * newDim.height) / oldDim.height;\r\n  }\r\n\r\n  return filledDim;\r\n};\r\n","/**\r\n * f(x) = A • sin(((t / 1000) • 2 • PI) / (1 / B))\r\n *\r\n * where A is the Amplitude\r\n *       B is the Frequency\r\n *       t is time\r\n *\r\n * */\r\n\r\n/**\r\n * Return wave value based on time using sine\r\n * */\r\nexport const sine = (frequency: number, amplitude: number): number => {\r\n  const time = new Date().getTime();\r\n  return Math.sin(((time / 1000) * 2 * Math.PI) / (1 / frequency)) * amplitude;\r\n};\r\n\r\n/**\r\n * Return wave value based on time using cosine. Its your choice\r\n * */\r\nexport const cosine = (frequency: number, amplitude: number): number => {\r\n  const time = new Date().getTime();\r\n  return Math.sin(((time / 1000) * 2 * Math.PI) / (1 / frequency)) * amplitude;\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkflappybird\"] = self[\"webpackChunkflappybird\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_solid-primitives_raf_dist_index_js-node_modules_total-typescript_ts-rese-48c27c\"], () => (__webpack_require__(\"./src/index.ts\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}